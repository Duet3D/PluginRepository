(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ExecOnMcode"],{"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o.r(t);var n=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=(o("./node_modules/regenerator-runtime/runtime.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.array.find-index.js"),o("./node_modules/core-js/modules/es.array.splice.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/vuex/dist/vuex.esm.js"));t["default"]={computed:Object(a["default"])({},Object(c["mapGetters"])("machine",["connector"])),data:function data(){return{alert_required_value:!1,edit_cmd_dialog:!1,confirmDelEvents:!1,deleteItem:null,is_newCmd:!1,editItem:{cmd_code:null,cmd_name:"Enter a name",cmd_command:"Enter a command to execute on SBC",cmd_enabled:!1,cmd_timeout:30,cmd_capture_output:!1},cmds_list:[],CmdTableHeaders:[{text:"M-Code",value:"cmd_code"},{text:"Name",value:"cmd_name"},{text:"Command",value:"cmd_command"},{text:"Enabled",value:"cmd_enabled"},{text:"Timeout",value:"cmd_timeout"},{text:"Actions",value:"actions",sortable:!1}]}},created:function created(){this.reload_cmds()},methods:Object(a["default"])(Object(a["default"])({},Object(c["mapActions"])("machine",["request"])),{},{sleep:function sleep(e){return Object(n["default"])(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),_callee)})))()},validateData:function validateData(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee2(){var t;return regeneratorRuntime.wrap((function _callee2$(o){while(1)switch(o.prev=o.next){case 0:if(t=!0,e.editItem.cmd_name&&e.editItem.cmd_command?e.editItem.cmd_timeout<1&&(t=!1):t=!1,t){o.next=10;break}return e.alert_required_value=!0,o.next=6,e.sleep(2e3);case 6:return e.alert_required_value=!1,o.abrupt("return");case 10:return e.is_newCmd&&e.cmds_list.push(e.editItem),e.save_cmds(),e.edit_cmd_dialog=!1,o.abrupt("return");case 14:case"end":return o.stop()}}),_callee2)})))()},get_next_available_code:function get_next_available_code(){var e=1201;return this.cmds_list.forEach((function(t){if(console.log(t),t.cmd_code!="M".concat(e))return e;e++})),e},new_cmd:function new_cmd(){var e={cmd_code:"M"+this.get_next_available_code(),cmd_name:"",cmd_command:"",cmd_enabled:!0,cmd_timeout:30,cmd_capture_output:!1};this.edit_cmd(e,!0)},edit_cmd:function edit_cmd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.is_newCmd=t,this.editItem=e,this.edit_cmd_dialog=!0},del_cmd:function del_cmd(e){this.deleteItem=e,this.confirmDelEvents=!0},confirm_del_cmd:function confirm_del_cmd(){var e=this,t=this.cmds_list.findIndex((function(t){return t.cmd_code==e.deleteItem}));if(-1===t)return!1;this.cmds_list.splice(t,1),this.deleteItem=null,this.save_cmds()},reload_cmds:function reload_cmds(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee3(){var t;return regeneratorRuntime.wrap((function _callee3$(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.connector.request("GET","machine/ExecOnMcode/getCmdList",null,"json");case 2:t=o.sent,e.cmds_list=t.data;case 4:case"end":return o.stop()}}),_callee3)})))()},save_cmds:function save_cmds(){var e=this;return Object(n["default"])(regeneratorRuntime.mark((function _callee4(){var t;return regeneratorRuntime.wrap((function _callee4$(o){while(1)switch(o.prev=o.next){case 0:return t=new Blob([JSON.stringify(e.cmds_list)]),o.next=3,e.connector.request("POST","machine/ExecOnMcode/saveCmdList",null,"json",t);case 3:case"end":return o.stop()}}),_callee4)})))()}})}},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2af781ca-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=template&id=f9cdcea0&':function(e,t,o){"use strict";o.r(t),o.d(t,"render",(function(){return render})),o.d(t,"staticRenderFns",(function(){return n}));var render=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",{staticClass:"pa-0 ma-0",staticStyle:{"overflow-x":"hidden"}},[o("v-card-text",[o("v-data-table",{staticClass:"pa-0 ma-0",attrs:{headers:e.CmdTableHeaders,items:e.cmds_list,"items-per-page":10,"item-key":"cmd_code","sort-by":"cmd_code"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{staticClass:"elevation-0",attrs:{dense:"",dark:"",color:"transparent"}},[o("v-toolbar-title",{staticClass:"blue--text"},[o("v-icon",{attrs:{color:"light-blue darken-1",large:""}},[e._v("mdi-powershell")]),e._v(" SBC commands")],1),o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.reload_cmds()}}},[o("v-icon",{attrs:{color:"light-blue darken-1",large:""}},[e._v("mdi-reload")])],1),o("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.new_cmd()}}},"v-btn",a,!1),n),[o("v-icon",{attrs:{color:"light-blue darken-1",large:""}},[e._v("mdi-plus-box")])],1)]}}])},[o("span",[e._v("Add new command")])]),o("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.edit_cmd_dialog,callback:function(t){e.edit_cmd_dialog=t},expression:"edit_cmd_dialog"}},[o("v-card",[o("v-card-title",[o("v-toolbar",{staticClass:"info",attrs:{dense:"",dark:""}},[e.is_newCmd?o("v-toolbar-title",[e._v("New command")]):o("v-toolbar-title",[e._v("Edit command")]),o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(t){e.edit_cmd_dialog=!1}}},[o("v-icon",{attrs:{large:""}},[e._v("mdi-close-box")])],1),o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.validateData()}}},[o("v-icon",{attrs:{large:""}},[e._v("mdi-check")])],1)],1),o("v-alert",{staticStyle:{position:"absolute","z-index":"99999"},attrs:{value:e.alert_required_value,type:"error",transition:"scale-transition"}},[e._v("Required values have not been entered !")])],1),o("v-card-text",[o("v-row",{staticClass:"mx-2",attrs:{dense:""}},[o("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("v-text-field",e._g(e._b({attrs:{label:"M-Code*",required:""},model:{value:e.editItem.cmd_code,callback:function(t){e.$set(e.editItem,"cmd_code",t)},expression:"editItem.cmd_code"}},"v-text-field",a,!1),n))]}}])},[o("span",[e._v("Enter the M-Code to trigger the command")])])],1)],1),o("v-row",{staticClass:"mx-2 my-n4",attrs:{dense:""}},[o("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("v-text-field",e._g(e._b({attrs:{label:"Name*",required:""},model:{value:e.editItem.cmd_name,callback:function(t){e.$set(e.editItem,"cmd_name",t)},expression:"editItem.cmd_name"}},"v-text-field",a,!1),n))]}}])},[o("span",[e._v("Enter a friendly name for the command")])])],1)],1),o("v-row",{staticClass:"mx-2 my-n4",attrs:{dense:""}},[o("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("v-text-field",e._g(e._b({attrs:{label:"Command to execute on SBC*",required:""},model:{value:e.editItem.cmd_command,callback:function(t){e.$set(e.editItem,"cmd_command",t)},expression:"editItem.cmd_command"}},"v-text-field",a,!1),n))]}}])},[o("span",[e._v("Enter command to execute on SBC")])])],1)],1),o("v-row",{staticClass:"mx-2 my-n4",attrs:{dense:""}},[o("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("v-text-field",e._g(e._b({attrs:{label:"Timeout*",number:"",required:""},model:{value:e.editItem.cmd_timeout,callback:function(t){e.$set(e.editItem,"cmd_timeout",t)},expression:"editItem.cmd_timeout"}},"v-text-field",a,!1),n))]}}])},[o("span",[e._v("Timeout in seconds")])])],1)],1),o("v-row",{staticClass:"mx-2 my-n4",attrs:{dense:""}},[o("v-col",{staticClass:"ma-0 pa-0"},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("span",e._g(e._b({},"span",a,!1),n),[o("v-switch",{attrs:{label:"Enabled"},model:{value:e.editItem.cmd_enabled,callback:function(t){e.$set(e.editItem,"cmd_enabled",t)},expression:"editItem.cmd_enabled"}})],1)]}}])},[o("span",[e._v("Toggle to disable or enable the command")])])],1),o("v-col",{staticClass:"ma-0 pa-0"},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[o("span",e._g(e._b({},"span",a,!1),n),[o("v-switch",{attrs:{label:"Hide output"},model:{value:e.editItem.cmd_capture_output,callback:function(t){e.$set(e.editItem,"cmd_capture_output",t)},expression:"editItem.cmd_capture_output"}})],1)]}}])},[o("span",[e._v("Hide the command output from the DWC console")])])],1)],1),o("v-row",{staticClass:"mx-2 my-n4",attrs:{dense:""}},[o("v-col",{attrs:{cols:"12"}},[o("small",[e._v("*indicates required field")])])],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.edit_cmd_dialog=!1}}},[e._v("Close")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.validateData()}}},[e._v("Save")])],1)],1)],1),o("confirm-dialog",{attrs:{shown:e.confirmDelEvents,title:"Confirm delete",prompt:"Delete command ?"},on:{"update:shown":function(t){e.confirmDelEvents=t},confirmed:function(t){return e.confirm_del_cmd()}}})],1)]},proxy:!0},{key:"item.cmd_enabled",fn:function(t){var n=t.item;return[n.cmd_enabled?o("v-icon",{attrs:{color:"light-green darken-1"}},[e._v("mdi-checkbox-marked-circle")]):o("v-icon",{attrs:{color:"red darken-1"}},[e._v("mdi-close-circle")])]}},{key:"item.actions",fn:function(t){var n=t.item;return[o("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,c=t.attrs;return[o("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.edit_cmd(n)}}},"v-icon",c,!1),a),[e._v("mdi-pencil")])]}}],null,!0)},[o("span",[e._v("Edit command")])]),o("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,c=t.attrs;return[o("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.del_cmd(n.cmd_code)}}},"v-icon",c,!1),a),[e._v("mdi-delete")])]}}],null,!0)},[o("span",[e._v("Delete command")])])]}}])})],1)],1)},n=[]},"./src/plugins/ExecOnMcode/ExecOnMcode.vue":function(e,t,o){"use strict";o.r(t);var n=o("./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=template&id=f9cdcea0&"),a=o("./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=script&lang=js&"),c=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=o("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),s=o.n(d),r=o("./node_modules/vuetify/lib/components/VAlert/VAlert.js"),l=o("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),i=o("./node_modules/vuetify/lib/components/VCard/VCard.js"),u=o("./node_modules/vuetify/lib/components/VCard/index.js"),m=o("./node_modules/vuetify/lib/components/VGrid/VCol.js"),_=o("./node_modules/vuetify/lib/components/VDataTable/VDataTable.js"),v=o("./node_modules/vuetify/lib/components/VDialog/VDialog.js"),p=o("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),f=o("./node_modules/vuetify/lib/components/VGrid/VRow.js"),b=o("./node_modules/vuetify/lib/components/VGrid/VSpacer.js"),x=o("./node_modules/vuetify/lib/components/VSwitch/VSwitch.js"),j=o("./node_modules/vuetify/lib/components/VTextField/VTextField.js"),h=o("./node_modules/vuetify/lib/components/VToolbar/VToolbar.js"),g=o("./node_modules/vuetify/lib/components/VToolbar/index.js"),y=o("./node_modules/vuetify/lib/components/VTooltip/VTooltip.js"),C=Object(c["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=C.exports,s()(C,{VAlert:r["default"],VBtn:l["default"],VCard:i["default"],VCardActions:u["VCardActions"],VCardText:u["VCardText"],VCardTitle:u["VCardTitle"],VCol:m["default"],VDataTable:_["default"],VDialog:v["default"],VIcon:p["default"],VRow:f["default"],VSpacer:b["default"],VSwitch:x["default"],VTextField:j["default"],VToolbar:h["default"],VToolbarTitle:g["VToolbarTitle"],VTooltip:y["default"]})},"./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o.r(t);var n=o("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=script&lang=js&");t["default"]=n["default"]},"./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=template&id=f9cdcea0&":function(e,t,o){"use strict";o.r(t);var n=o('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2af781ca-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/ExecOnMcode/ExecOnMcode.vue?vue&type=template&id=f9cdcea0&');o.d(t,"render",(function(){return n["render"]})),o.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"./src/plugins/ExecOnMcode/index.js":function(e,t,o){"use strict";o.r(t);var n=o("./src/routes/index.js"),a=o("./src/plugins/ExecOnMcode/ExecOnMcode.vue");Object(n["registerRoute"])(a["default"],{Settings:{ExecOnMcode:{icon:"mdi-powershell",caption:"ExecOnMcode",path:"/ExecOnMcode"}}})}}]);
//# sourceMappingURL=ExecOnMcode.73e60de7.js.map