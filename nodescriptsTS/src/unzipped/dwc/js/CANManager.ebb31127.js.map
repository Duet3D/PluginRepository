{"version":3,"file":"js/CANManager.ebb31127.js","mappings":"wtBAOIA,GAAY,gBACd,aACA,EAAAC,OACA,EAAAC,iBACA,EACA,KACA,KACA,MAIF,aAAeF,EAAiB,O,iVClBgO,aAAe,Y,6ZCmB/Q,cACAG,WAAAA,CAAAC,YAAAA,EAAAA,YAEAC,OACA,OACAC,QAAAA,CACA,CACAC,KAAAA,OACAC,MAAAA,OACAC,UAAAA,GAEA,CACAF,KAAAA,cACAC,MAAAA,aACAC,UAAAA,GAEA,CACAF,KAAAA,QACAC,MAAAA,QACAC,UAAAA,GAEA,CACAF,KAAAA,mBACAC,MAAAA,kBACAC,UAAAA,GAEA,CACAF,KAAAA,gBACAC,MAAAA,eACAC,UAAAA,GAEA,CACAF,KAAAA,WACAC,MAAAA,kBACAC,UAAAA,GAEA,CACAF,KAAAA,MACAC,MAAAA,cACAC,UAAAA,IAIAC,yBAAAA,EACAC,YAAAA,CACAC,OAAAA,EACAC,gBAAAA,EACAC,EAAAA,EACAC,EAAAA,GAEAC,mBAAAA,EAEA,EACAC,SAAAA,KACA,0CACAC,kBACA,8CACA,EACAC,kBACA,kCACA,gFAEA,EACA,GAGAC,QAAAA,KACA,wCACAC,WAAAA,EAAAA,GAEA,0BACA,uBACA,uBACA,qBACA,6BAEA,yBACA,EACA,0BACAC,QAAAA,IAAAA,YAAAA,UACA,yBACAA,QAAAA,IAAAA,SAAAA,KAAAA,cAAAA,eAAAA,WACA,8DAGA,EACA,uBACA,wDACA,6BACA,G,4LCtGAC,EAAAA,WAAAA,UAAc,WAAYC,EAAAA,aAE1BC,EAAAA,EAAAA,eAAcD,EAAAA,WAAS,CACnBE,QAAS,CACLF,QAAS,CACLG,KAAM,kCACNC,QAAS,cACTC,KAAM,sB,uvBCb4F,SAAKX,S,IAAgB,OAAqB,EAAC,W,OAAI,yB,MAAC,C,MAA0CY,EAAAA,gB,QAAyBC,EAAAA,S,GAA6D,CAAC,8BAA8B,OAAxB,EAAC,kBAAgBC,EAAM,iBAAC,aAAmB,qBAAC,KAAiE,iBAAab,CAAe,MAAC,CAAG,eAAC,GAAC,gC,MAAoCT,qBAA8B,OAAC,mBAAiC,IAAIuB,eAAY,YAACD,EAAM,yBAAC,EAA+B,UAAY,EAAI,oBAA6B,gBAACE,MAAM,CAAC1B,aAAWG,EAAAA,YAAkB,EAACwB,aAAS,cAAe,E,SAAUC,I,MAAgCC,CAA8B,0BAAIJ,SAAG,SAAa,GAAkB,+BAAC,E,WAA6BvB,sBAA+B,iCAAE,GAAE0B,CAAmD,MAAC,YAAC,2BAAYE,CAAO,IACh7B,8CACGpC,GAAAA,CAEJ,MAAe,EAAEA,U","sources":["webpack://duetwebcontrol/./src/plugins/CANManager/CanList.vue?1633","webpack://duetwebcontrol/./src/plugins/CANManager/CanList.vue?e3e3","webpack://duetwebcontrol/src/plugins/CANManager/CanList.vue","webpack://duetwebcontrol/./src/plugins/CANManager/index.js","webpack://duetwebcontrol/./src/plugins/CANManager/CanList.vue"],"sourcesContent":["import { render, staticRenderFns } from \"./CanList.vue?vue&type=template&id=5a230c66&\"\nimport script from \"./CanList.vue?vue&type=script&lang=js&\"\nexport * from \"./CanList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanList.vue?vue&type=script&lang=js&\"","<template>\r\n<div>\r\n    <v-data-table :items=\"expansionBoards\" :headers=\"headers\" @contextmenu:row.stop.prevent=\"rowClicked\"></v-data-table>\r\n    <input-dialog isNumericValue :shown.sync=\"showNewCanAddressDialog\" title=\"Update CAN Address\" :prompt=\"canUpdatePrompt\" @confirmed=\"updateCANAddress\"></input-dialog>\r\n    <v-menu v-model=\"contextMenu.shown\" :position-x=\"contextMenu.x\" :position-y=\"contextMenu.y\" absolute  >        \r\n        <v-list>\r\n            <v-list-item @click=\"showNewCanAddressDialog = true\">Update CAN Address</v-list-item>\r\n            <v-list-item @click=\"runM122\">M122</v-list-item>\r\n        </v-list>\r\n    </v-menu>\r\n</div>    \r\n</template>\r\n<style></style>\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapActions } from \"vuex\"\r\nimport InputDialog from '../../components/dialogs/InputDialog.vue'\r\n\r\nexport default {\r\n  components: { InputDialog },\r\n\r\n    data() {\r\n        return {\r\n            headers: [\r\n                {\r\n                    text: 'Name',\r\n                    value: 'name',\r\n                    sortable: true,\r\n                },\r\n                {\r\n                    text: 'CAN Address',\r\n                    value: 'canAddress',\r\n                    sortable: true,\r\n                }      ,          \r\n                {\r\n                    text: 'State',\r\n                    value: 'state',\r\n                    sortable: true,\r\n                },\r\n                {\r\n                    text: 'Firmware Version',\r\n                    value: 'firmwareVersion',\r\n                    sortable: true,\r\n                },\r\n                {\r\n                    text: 'Firmware Date',\r\n                    value: 'firmwareDate',\r\n                    sortable: true,\r\n                },\r\n                {\r\n                    text: 'MCU Temp',\r\n                    value: 'mcuTemp.current',\r\n                    sortable: true,\r\n                },                \r\n                {\r\n                    text: 'Vin',\r\n                    value: 'vIn.current',\r\n                    sortable: true,\r\n                },                \r\n\r\n            ],\r\n            showNewCanAddressDialog : false,\r\n            contextMenu: {\r\n\t\t\t\tshown: false,\r\n\t\t\t\ttouchTimer: undefined,\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t},\r\n            selectedBoard: undefined,\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('machine/model', ['boards']),\r\n        expansionBoards() {\r\n            return this.boards.filter(board => board.canAddress > 0)\r\n        },\r\n        canUpdatePrompt() {\r\n            if(this.selectedBoard != undefined){\r\n                return 'Update address for ' + this.selectedBoard.name + \":\" + this.selectedBoard.canAddress;\r\n            }\r\n            return ''\r\n        }\r\n\r\n    },\r\n    methods:{\r\n        ...mapActions('machine',['sendCode']),\r\n        rowClicked(e, row)\r\n        {\r\n            this.contextMenu.shown = false;\r\n            this.contextMenu.x = e.x;\r\n            this.contextMenu.y = e.y;\r\n            this.$nextTick(() => {\r\n\t\t\t\tthis.contextMenu.shown = true;\r\n\t\t\t});\r\n            this.selectedBoard = row.item;\r\n        },\r\n        async updateCANAddress(value){\r\n            console.log(`Result : ${value}`);\r\n            if(this.selectedBoard !== undefined){\r\n                console.log(`M952 B${this.selectedBoard.canAddress} A${value}`)\r\n              await this.sendCode(`M952 B${this.selectedBoard.canAddress} A${value}`);\r\n              \r\n            }\r\n        },\r\n        async runM122(value) {\r\n            await this.sendCode(`M122 B${this.selectedBoard.canAddress}`);\r\n            this.$router.push(\"/Console\");\r\n        }\r\n    }\r\n}\r\n\r\n\r\n</script>","'use strict'\r\n\r\nimport Vue from 'vue'\r\nimport { registerRoute } from '../../routes'\r\nimport CanList from './CanList.vue'\r\n\r\nVue.component('can-list', CanList)\r\n\r\nregisterRoute(CanList, {\r\n    Plugins: {\r\n        CanList: {\r\n            icon: 'mdi-chart-bell-curve-cumulative',\r\n            caption: 'CAN Manager',\r\n            path: '/Plugins/CanList'\r\n        }\r\n    }\r\n})\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-data-table',{attrs:{\"items\":_vm.expansionBoards,\"headers\":_vm.headers},on:{\"contextmenu:row\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.rowClicked.apply(null, arguments)}}}),_c('input-dialog',{attrs:{\"isNumericValue\":\"\",\"shown\":_vm.showNewCanAddressDialog,\"title\":\"Update CAN Address\",\"prompt\":_vm.canUpdatePrompt},on:{\"update:shown\":function($event){_vm.showNewCanAddressDialog=$event},\"confirmed\":_vm.updateCANAddress}}),_c('v-menu',{attrs:{\"position-x\":_vm.contextMenu.x,\"position-y\":_vm.contextMenu.y,\"absolute\":\"\"},model:{value:(_vm.contextMenu.shown),callback:function ($$v) {_vm.$set(_vm.contextMenu, \"shown\", $$v)},expression:\"contextMenu.shown\"}},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){_vm.showNewCanAddressDialog = true}}},[_vm._v(\"Update CAN Address\")]),_c('v-list-item',{on:{\"click\":_vm.runM122}},[_vm._v(\"M122\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["component","render","staticRenderFns","components","InputDialog","data","headers","text","value","sortable","showNewCanAddressDialog","contextMenu","shown","touchTimer","x","y","selectedBoard","computed","expansionBoards","canUpdatePrompt","methods","rowClicked","console","Vue","CanList","registerRoute","Plugins","icon","caption","path","stopPropagation","preventDefault","attrs","_c","model","callback","_vm","expression","runM122"],"sourceRoot":""}