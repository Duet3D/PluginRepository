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{"version":3,"file":"js/ClosedLoopTuning.1d7cf1e1.js","mappings":"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","sources":["webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Chart.vue?de51","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/ClosedLoopTuning.vue?cb0f","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/FileSelector.vue?be12","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Recorder.vue?9851","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/VariableSelector.vue?55c4","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Chart.vue?a09f","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/ClosedLoopTuning.vue?b0b3","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/FileSelector.vue?2dc7","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Recorder.vue?7d2b","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/VariableSelector.vue?b1b4","webpack://duetwebcontrol/./src/utils/csv.ts","webpack://duetwebcontrol/src/plugins/ClosedLoopTuning/Chart.vue","webpack://duetwebcontrol/src/plugins/ClosedLoopTuning/ClosedLoopTuning.vue","webpack://duetwebcontrol/src/plugins/ClosedLoopTuning/FileSelector.vue","webpack://duetwebcontrol/src/plugins/ClosedLoopTuning/Recorder.vue","webpack://duetwebcontrol/src/plugins/ClosedLoopTuning/VariableSelector.vue","webpack://duetwebcontrol/../../src/components/VPagination/VPagination.ts","webpack://duetwebcontrol/../../src/components/VRadioGroup/VRadio.ts","webpack://duetwebcontrol/../../src/components/VRadioGroup/VRadioGroup.ts","webpack://duetwebcontrol/../../src/components/VRangeSlider/VRangeSlider.ts","webpack://duetwebcontrol/../../src/components/VSlider/index.ts","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/PIDTune.js","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/config.js","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/index.js","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Chart.vue","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/ClosedLoopTuning.vue","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/FileSelector.vue","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/Recorder.vue","webpack://duetwebcontrol/./src/plugins/ClosedLoopTuning/VariableSelector.vue"],"sourcesContent":["import { render, staticRenderFns } from \"./Chart.vue?vue&type=template&id=f2e130a0&scoped=true&\"\nimport script from \"./Chart.vue?vue&type=script&lang=js&\"\nexport * from \"./Chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chart.vue?vue&type=style&index=0&id=f2e130a0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2e130a0\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./ClosedLoopTuning.vue?vue&type=template&id=50a890d8&\"\nimport script from \"./ClosedLoopTuning.vue?vue&type=script&lang=js&\"\nexport * from \"./ClosedLoopTuning.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./FileSelector.vue?vue&type=template&id=08d365b5&\"\nimport script from \"./FileSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./FileSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileSelector.vue?vue&type=style&index=0&id=08d365b5&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Recorder.vue?vue&type=template&id=3b40ed2e&\"\nimport script from \"./Recorder.vue?vue&type=script&lang=js&\"\nexport * from \"./Recorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./VariableSelector.vue?vue&type=template&id=7ec396c0&\"\nimport script from \"./VariableSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./VariableSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClosedLoopTuning.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClosedLoopTuning.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VariableSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VariableSelector.vue?vue&type=script&lang=js&\"","class CSV {\r\n\theaders: Array<string> = []\r\n\tcontent: Array<Array<string>> = []\r\n\r\n\tconstructor(content: string) {\r\n\t\tlet row = 0, col = 0, inQuote = false;\r\n\t\tfor (let i = 0; i < content.length; i++) {\r\n\t\t\tconst char = content[i], nextChar = content[i + 1];\r\n\r\n\t\t\t// Make sure we have enough rows+cols\r\n\t\t\tif (row === 0) {\r\n\t\t\t\tif (this.headers.length <= col) {\r\n\t\t\t\t\tthis.headers.push(\"\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.content.length < row) {\r\n\t\t\t\t\tthis.content.push([]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.content[row - 1].length <= col) {\r\n\t\t\t\t\tthis.content[row - 1].push(\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Deal with escaped quotes\r\n\t\t\tif (inQuote && char === '\"' && nextChar === '\"') {\r\n\t\t\t\tif (row === 0) {\r\n\t\t\t\t\tthis.headers[col] += char;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.content[row - 1][col] += char;\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Deal with the start or end of a field\r\n\t\t\tif (char === '\"') {\r\n\t\t\t\tinQuote = !inQuote;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if we can move on to the next field\r\n\t\t\tif (char === ',' && !inQuote) {\r\n\t\t\t\tcol++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if we can move on to the next row\r\n\t\t\tif (char === '\\n' && !inQuote) {\r\n\t\t\t\tthis.content.push([]);\r\n\t\t\t\tcol = 0;\r\n\t\t\t\t++row;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise append the current character\r\n\t\t\tif (row === 0) {\r\n\t\t\t\tthis.headers[col] += char;\r\n\t\t\t} else {\r\n\t\t\t\tthis.content[row - 1][col] += char;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.content.length > 0 && this.content[this.content.length - 1].length === 0) {\r\n\t\t\t// Remove last content row if it is empty\r\n\t\t\tthis.content.splice(-1, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tget(fieldName: string, row: number = 0) {\r\n\t\tconst index = this.headers.findIndex(header => header === fieldName);\r\n\t\tif (index === -1) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn this.content[row][index];\r\n\t}\r\n}\r\n\r\nexport default CSV\r\n","<style scoped>\r\n.content > div:last-child {\r\n\tposition: relative;\r\n}\r\n\r\n.content > div:last-child > canvas {\r\n\tposition: absolute;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<v-card class=\"d-flex flex-column flex-grow-1 fill-height\" min-height=\"40rem\">\r\n\t\t<v-card-title class=\"pt-2 pb-1\">\r\n\t\t\t<v-icon dense class=\"mr-2\">mdi-chart-sankey</v-icon>\r\n\t\t\tData Chart\r\n\t\t</v-card-title>\r\n\t\t\t\t\r\n\t\t<v-card-text class=\"content flex-grow-1 px-2 py-0\">\r\n\t\t\t<div class=\"text-h4 text--disabled text-center pt-16\" v-if=\"!data\">\r\n\t\t\t\tSelect a file to view\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-h4 text--disabled text-center pt-16\" v-else-if=\"variables.length === 0\">\r\n\t\t\t\tSelect some variables to plot<br>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height: 5%;\" v-if=\"data && variables.length > 0\">\r\n\t\t\t\t<v-range-slider\r\n\t\t\t\t\tv-model=\"rangeFilter\"\r\n\t\t\t\t\thide-details\r\n\t\t\t\t\t:max=\"data.Sample.length\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height: 95%;\" v-show=\"data && variables.length > 0\">\r\n\t\t\t\t<canvas ref=\"chart\"></canvas>\r\n\t\t\t</div>\r\n\t\t</v-card-text>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport Chart from 'chart.js'\r\n\r\nimport { yAxes } from './config.js'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tchart: null,\r\n\t\t\trangeFilter: [0,0]\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\tdata: Object,\r\n\t\tvariables: Array,\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState('settings', ['darkTheme']),\r\n\t},\r\n\tmethods: {\r\n\t\tcreateChart() {\r\n\r\n\t\t\tChart.Tooltip.positioners.cursor = function(chartElements, coordinates) {\r\n\t\t      return coordinates;\r\n    \t\t};\r\n\r\n\t\t\tthis.chart = new Chart.Line(this.$refs.chart, {\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tanimation: {\r\n\t\t\t\t\t\tduration: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltips: {\r\n\t\t\t\t\t\tmode: 'index',\r\n\t\t\t\t\t\tposition:'cursor',\r\n\t\t\t\t\t\tintersect:false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaintainAspectRatio: false,\r\n\t\t\t\t\tscales: {\r\n\t\t\t\t\t\txAxes: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\t\tlabelString: \"Time Since Start (ms)\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdatasets: []\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.updateChart();\r\n\t\t},\r\n\t\tupdateChart() {\r\n\t\t\tif (this.data) {\r\n\t\t\t\tthis.chart.data.datasets = this.variables.map(variable => ({\r\n\t\t\t\t\tborderColor: this.darkTheme ?  variable.colour.dark : variable.colour.light,\r\n\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\tdata: this.data[variable.title] ?\r\n\t\t\t\t\t\tthis.data[variable.title]\r\n\t\t\t\t\t\t\t.map((val, idx) => ({\r\n\t\t\t\t\t\t\t\tx: this.data.Timestamp[idx],\r\n\t\t\t\t\t\t\t\ty: variable.filter ? variable.filter(val) : val\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t.slice(this.rangeFilter[0], this.rangeFilter[1])\r\n\t\t\t\t\t\t: [],\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlabel: variable.title,\r\n\t\t\t\t\tpointRadius: 0,\r\n\t\t\t\t\tshowLine: true,\r\n\t\t\t\t\ttension: 0,\r\n\t\t\t\t\tyAxisID: variable.axis\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tconst axesRequired = this.variables.map(x => x.axis);\r\n\t\t\t\tthis.chart.options.scales.yAxes = yAxes.filter(yAxis => axesRequired.includes(yAxis.id));\r\n\t\t\t} else {\r\n\t\t\t\tthis.chart.data.datasets = [];\r\n\t\t\t\tthis.chart.options.scales.yAxes = [];\r\n\t\t\t}\r\n\t\t\tthis.chart.update();\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.createChart();\r\n\t},\r\n\twatch: {\r\n\t\tvariables() {\r\n\t\t\tthis.updateChart();\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tif (this.data) {\r\n\t\t\t\tthis.rangeFilter = [0, this.data.Sample.length - 1];\r\n\t\t\t\t// this.updateChart();\t// Called by the watcher on rangeFilter\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateChart();\r\n\t\t\t}\r\n\t\t},\r\n\t\trangeFilter() {\r\n\t\t\tthis.updateChart();\r\n\t\t},\r\n\t\tdarkTheme() {\r\n\t\t\tthis.updateChart();\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<div>\r\n\t\t<v-row>\r\n\t\t\t<v-col cols=\"12\">\r\n\t\t\t\t<Recorder\r\n\t\t\t\t\t:recordingProgress=\"-1\"\r\n\t\t\t\t\t@recordingFinished=\"recordingFinished\"\r\n\t\t\t\t/>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t\t<v-row>\r\n\t\t\t<v-col cols=\"12\" sm=\"6\" lg=\"auto\" order=\"1\" order-lg=\"0\">\r\n\t\t\t\t<FileSelector \r\n\t\t\t\t\tref=\"selector\"\r\n\t\t\t\t\t@fileSelect=\"selected($event)\" \r\n\t\t\t\t/>\r\n\t\t\t</v-col>\r\n\r\n\t\t\t<v-col cols=\"12\" lg=\"auto\" order=\"0\" order-lg=\"0\" :class=\"{ 'pa-1': $vuetify.breakpoint.xs }\" class=\"flex-grow-1\">\r\n\t\t\t\t<Chart \r\n\t\t\t\t\t:data=\"loadedData\" \r\n\t\t\t\t\t:variables=\"variablesToView\" \r\n\t\t\t\t\tclass=\"content flex-grow-1 px-2 py-0\" \r\n\t\t\t\t/>\r\n\t\t\t</v-col>\r\n\r\n\t\t\t<v-col cols=\"12\" sm=\"6\" lg=\"auto\" order=\"1\" order-lg=\"0\">\r\n\t\t\t\t<VariableSelector\r\n\t\t\t\t\tv-model=\"variablesToView\"\r\n\t\t\t\t\t:available-variables=\"availableVariables\"\r\n\t\t\t\t/>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nimport Chart from './Chart.vue'\r\nimport Recorder from './Recorder.vue'\r\nimport FileSelector from './FileSelector.vue'\r\nimport VariableSelector from './VariableSelector.vue'\r\n\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tChart,\r\n\t\tRecorder,\r\n\t\tFileSelector,\r\n\t\tVariableSelector,\r\n\t},\r\n\tdata: () => ({\r\n\t\tloadedData: null,\r\n\t\tvariablesToView: [],\r\n\t\tvariablesToRecord: [],\r\n\t\tavailableVariables: [],\r\n\t}),\r\n\tcomputed: {\r\n\t\t...mapGetters(['isConnected', 'uiFrozen']),\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['download']),\r\n\t\tparseClosedLoopCSV(inputText) {\r\n\t\t\tinputText = inputText.split(\"\\n\");\r\n\t\t\tconst header = inputText[0].split(\",\");\r\n\t\t\tlet data = {};\r\n\t\t\tfor (let variable of header) {\r\n\t\t\t\tdata[variable] = [];\r\n\t\t\t}\r\n\t\t\tinputText.slice(1).forEach(row => {\r\n\t\t\t\tif (row === \"\") {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\trow = row.split(\",\");\r\n\t\t\t\tfor (let i = 0; i < row.length; i++) {\r\n\t\t\t\t\tdata[Object.keys(data)[i]].push(parseFloat(row[i]));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn data;\r\n\t\t},\r\n\t\tasync selected(file) {\r\n\t\t\tif (!file) {\r\n\t\t\t\tthis.loadedData = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet data = this.parseClosedLoopCSV(await this.download({\r\n\t\t\t\t\tfilename: file,\r\n\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\tshowProgress: false,\r\n\t\t\t\t\tshowSuccess: false,\r\n\t\t\t\t\tshowError: false\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tthis.availableVariables = Object.keys(data).filter(x => x !== \"Sample\");\r\n\t\t\t\tthis.loadedData = data;\r\n\t\t\t}\r\n\t\t},\r\n\t\trecordingFinished() {\r\n\t\t\tthis.$refs.selector.selectMostRecentFile();\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n","<template>\r\n   <v-card class=\"d-flex flex-column fill-height\">\r\n      <v-card-title class=\"pt-2 pb-1\">\r\n         <v-icon small class=\"mr-2\">mdi-file-table-box-multiple</v-icon>\r\n         Data Files\r\n         <v-spacer />\r\n         <v-icon class=\"ml-2\" @click=\"refresh\">mdi-refresh</v-icon>\r\n         <v-icon v-if=\"!isDeleting\" class=\"ml-2\" @click=\"deleteDialog = true\">mdi-delete</v-icon>\r\n         <v-progress-circular  class=\"disable-transition ml-2\" size=\"24\" v-else :value=\"deleteProgress\"></v-progress-circular>\r\n      </v-card-title>\r\n\r\n      <v-card-text class=\"pb-0\">\r\n         <v-list dense :v-if=\"!loading\">\r\n            <div v-if=\"files.length > 200\" class=\"w-full error--text text-center mb-3\">\r\n               Warning: You have {{ this.files.length }} data files<br />\r\n               You may wish to delete some to save space\r\n            </div>\r\n            <v-list-item-group v-model=\"selectedIndex\" color=\"primary\">\r\n               <v-list-item v-for=\"(file, index) in displayedFiles\" :key=\"file.name\" :value=\"index\">\r\n                  <v-list-item-content>\r\n                     <v-list-item-title>\r\n                        <div class=\"mt-1 float-left\">\r\n                           {{ file.name }}\r\n                        </div>\r\n                        <v-icon class=\"ml-2 float-right\" @click.stop=\"deleteFile(file.name)\">mdi-delete</v-icon>\r\n                     </v-list-item-title>\r\n                  </v-list-item-content>\r\n               </v-list-item>\r\n            </v-list-item-group>\r\n         </v-list>\r\n         <v-dialog :value=\"deleteDialog\" width=\"480\" persistent>\r\n            <v-card>\r\n               <v-card-title> Delete All Files </v-card-title>\r\n               <v-card-text> Are you sure you want to delete all CSV files? </v-card-text>\r\n               <v-card-actions>\r\n                  <v-spacer />\r\n                  <v-btn class=\"mr-1\" @click=\"deleteAll()\" color=\"error\">Delete</v-btn>\r\n                  <v-btn @click=\"deleteDialog = false\">Cancel</v-btn>\r\n               </v-card-actions>\r\n            </v-card>\r\n         </v-dialog>\r\n      </v-card-text>\r\n      <v-spacer />\r\n\r\n      <v-card-actions>\r\n         <v-pagination v-model=\"page\" :length=\"Math.ceil(files.length / maxFileDisplay)\" :total-visible=\"Math.ceil(files.length / maxFileDisplay) > 4 ? 5 : null\" class=\"mx-auto\" />\r\n      </v-card-actions>\r\n   </v-card>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.disable-transition {\r\n   transition: none !important;\r\n   .v-progress-circular__overlay {\r\n      transition: none;\r\n   }\r\n}\r\n</style>\r\n\r\n<script>\r\n'use strict';\r\n\r\nimport { mapGetters, mapActions } from 'vuex';\r\n\r\nimport Path from '../../utils/path'\r\n\r\nexport default {\r\n   data: () => ({\r\n      page: 1,\r\n      files: [],\r\n      loading: false,\r\n      selectedIndex: -1,\r\n      maxFileDisplay: 13,\r\n      deleteDialog: false,\r\n      isDeleting: false,\r\n      deleteProgress: 0\r\n   }),\r\n   computed: {\r\n      ...mapGetters(['isConnected', 'uiFrozen']),\r\n      displayedFiles() {\r\n         return this.files.slice((this.page - 1) * this.maxFileDisplay, this.page * this.maxFileDisplay);\r\n      }\r\n   },\r\n   mounted() {\r\n      this.refresh();\r\n      this.$root.$on('updatePIDGraph', () => {\r\n         this.selectMostRecentFile();\r\n      });\r\n   },\r\n   unmounted() {\r\n      this.$root.$off('updatePIDGraph');\r\n   },\r\n   methods: {\r\n      ...mapActions('machine', {\r\n         getFileList: 'getFileList',\r\n         machineDelete: 'delete'\r\n      }),\r\n      async refresh() {\r\n         if (!this.isConnected) {\r\n            this.selectedIndex = -1;\r\n            this.files = [];\r\n            return;\r\n         }\r\n\r\n         if (this.loading) {\r\n            // Don't do multiple actions at once\r\n            return;\r\n         }\r\n\r\n         this.selectedIndex = -1;\r\n         this.loading = true;\r\n         try {\r\n            this.files = (await this.getFileList(Path.closedLoop)).filter((file) => !file.isDirectory && file.name.endsWith('.csv')).sort((a, b) => b.lastModified - a.lastModified);\r\n         } finally {\r\n            this.loading = false;\r\n         }\r\n      },\r\n      async selectMostRecentFile() {\r\n         await this.refresh();\r\n         this.page = 1;\r\n         this.selectedIndex = 0;\r\n      },\r\n      async deleteFile(fileName) {\r\n         try {\r\n            await this.machineDelete(Path.combine(Path.closedLoop, fileName));\r\n            await this.refresh();\r\n         } catch (e) {\r\n            this.$makeNotification('error', this.$t('notification.delete.errorTitle', [fileName]), e.message);\r\n         }\r\n      },\r\n      async deletePage() {\r\n         for (let i = (this.page - 1) * this.maxFileDisplay; i < this.page * this.maxFileDisplay; i++) {\r\n            if (i >= this.files.length) {\r\n               continue;\r\n            }\r\n\r\n            try {\r\n               await this.machineDelete(Path.combine(Path.closedLoop, this.files[i].name));\r\n            } catch (e) {\r\n               this.$makeNotification('error', this.$t('notification.delete.errorTitle', [this.files[i].name]), e.message);\r\n            }\r\n         }\r\n         await this.refresh();\r\n      },\r\n      async deleteAll() {\r\n         try {\r\n            this.deleteDialog = false;\r\n            this.isDeleting = true;\r\n            for (let i = 0; i < this.files.length; i++) {\r\n               try {\r\n                  this.deleteProgress = (i / this.files.length) * 100;\r\n                  await this.machineDelete(Path.combine(Path.closedLoop, this.files[i].name));\r\n               } catch (e) {\r\n                  this.$makeNotification('error', this.$t('notification.delete.errorTitle', [this.files[i].name]), e.message);\r\n               }\r\n            }\r\n            await this.refresh();\r\n         } finally {\r\n            this.isDeleting = false;\r\n            this.deleteProgress = 0;\r\n         }\r\n      }\r\n   },\r\n   watch: {\r\n      selectedIndex(to) {\r\n         this.$emit('fileSelect', to >= 0 && to < this.files.length ? Path.combine(Path.closedLoop, this.files[to].name) : null);\r\n      }\r\n   }\r\n};\r\n</script>\r\n","<template>\r\n   <v-card class=\"fill-height\">\r\n      <v-card-title class=\"pt-2 pb-1\">\r\n         <v-icon class=\"mr-2\">mdi-record-rec</v-icon>\r\n         Record\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n         <v-row>\r\n            <v-col v-for=\"colNo in [0, 1, 2]\" :key=\"colNo\" cols=\"2\">\r\n               <v-checkbox dense hide-details v-for=\"variable in nthThirdOfVariables(colNo)\" :key=\"variable.id\" v-model=\"selectedVariables\" :label=\"variable.title\" :value=\"variable\" :color=\"darkTheme ? variable.colour.dark : variable.colour.light\" />\r\n            </v-col>\r\n            <v-col cols=\"3\">\r\n               <v-select v-model=\"selectedDriver\" :items=\"drivers\" hint=\"Only one motor will be driven, axis should be re-homed after tuning\" item-text=\"name\" item-value=\"value\" label=\"Select a driver\" single-line persistent-hint class=\"pb-4\" />\r\n               <v-form @submit.prevent=\"updatePID\" v-on:keyup.enter=\"updatePID\">\r\n                  <v-row dense>\r\n                     <v-col cols=\"4\">\r\n                        <v-text-field label=\"P Value\" numeric v-model=\"pTerm\"></v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"4\">\r\n                        <v-text-field label=\"I Value\" numeric v-model=\"iTerm\"></v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"4\">\r\n                        <v-text-field label=\"D Value\" numeric v-model=\"dTerm\"></v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"4\">\r\n                        <v-text-field label=\"A Value\" numeric v-model=\"aTerm\"></v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"4\">\r\n                        <v-text-field label=\"V Value\" numeric v-model=\"vTerm\"></v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"4\">\r\n                        <v-btn type=\"submit\" :loading=\"updatingPIDValue\">Update</v-btn>\r\n                     </v-col>\r\n                  </v-row>\r\n               </v-form>\r\n               <v-row>\r\n                  <v-col cols=\"6\">\r\n                     <v-text-field label=\"Samples to collect\" v-model=\"sampleCount\" :rules=\"[(v) => !!v || $t('dialog.inputRequired'), (v) => isNumber(parseFloat(v)) || $t('dialog.numberRequired')]\" required autofocus>\r\n                        <template #append> samples </template>\r\n                     </v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"6\">\r\n                     <v-radio-group v-model=\"sampleRateContinuous\">\r\n                        <v-radio label=\"As fast as possible\" :value=\"true\" dense hide-details />\r\n                        <v-radio :value=\"false\" dense hide-details>\r\n                           <template v-slot:label>\r\n                              <v-text-field label=\"At a fixed rate\" v-model=\"sampleRate\" :rules=\"[(v) => !!v || $t('dialog.inputRequired'), (v) => isNumber(parseFloat(v)) || $t('dialog.numberRequired')]\" required autofocus :hint=\"sampleRateContinuous ? '' : `(total ${totalTime} seconds)`\" persistent-hint>\r\n                                 <template slot=\"append\"> /second </template>\r\n                              </v-text-field>\r\n                           </template>\r\n                        </v-radio>\r\n                     </v-radio-group>\r\n                  </v-col>\r\n               </v-row>\r\n            </v-col>\r\n            <v-col cols=\"3\">\r\n               <v-radio-group class=\"mt-0 pt-0\" label=\"Movement\" v-model=\"calibrationMovement\">\r\n                  <v-radio :value=\"64\" label=\"Step Manoeuvre\" dense hide-details> </v-radio>\r\n                  <v-row v-show=\"calibrationMovement === 64\" dense>\r\n                     <v-col cols=\"12\"> Step Manoeuvre Parameters </v-col>\r\n                     <v-col cols=\"6\">\r\n                        <v-text-field label=\"Speed\" persistent-hint v-model=\"moveSpeed\" :rules=\"[(v) => !!v || $t('dialog.inputRequired'), (v) => isNumber(parseFloat(v)) || $t('dialog.numberRequired')]\" required autofocus>\r\n                           <template #append> mm/s </template>\r\n                        </v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"6\">\r\n                        <v-text-field label=\"Distance\" v-model=\"moveDistance\" :rules=\"[(v) => !!v || $t('dialog.inputRequired'), (v) => isNumber(parseFloat(v)) || $t('dialog.numberRequired')]\" required autofocus>\r\n                           <template #append> mm </template>\r\n                        </v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"6\">\r\n                        <v-text-field label=\"Acceleration\" v-model=\"moveAcceleration\" :rules=\"[(v) => !!v || $t('dialog.inputRequired'), (v) => isNumber(parseFloat(v)) || $t('dialog.numberRequired')]\" required autofocus>\r\n                           <template #append> mm/s^2 </template>\r\n                        </v-text-field>\r\n                     </v-col>\r\n                  </v-row>\r\n                  <v-radio :value=\"0\" hide-details label=\"Custom G-Code\" />\r\n                  <v-row v-show=\"calibrationMovement === 0\" dense >\r\n                     <v-col cols=\"12\">\r\n                        <v-text-field  class=\"pt-1\" label=\"G-Code\" persistent-hint v-model=\"customGCODE\" hint=\"Enter custom g-code to record\" />\r\n                     </v-col>\r\n                  </v-row>\r\n               </v-radio-group>\r\n\r\n               <v-select\r\n                  :items=\"[\r\n                     { text: 'Immediately', value: 0 },\r\n                     { text: 'On next move', value: 1 }\r\n                  ]\"\r\n                  label=\"Collect data\"\r\n                  v-model=\"activateMode\"\r\n               ></v-select>\r\n            </v-col>\r\n         </v-row>\r\n         <v-row>\r\n            <v-col cols=\"auto\">\r\n               <v-btn :disabled=\"!ready || autoTuning || recording\" @click=\"record()\" color=\"info\">\r\n                  <v-icon class=\"mr-2\">mdi-record</v-icon>\r\n                  Record\r\n               </v-btn>\r\n               <v-btn class=\"ml-1\" :disabled=\"selectedDriver == null || autoTuning\" @click=\"autoTune()\" color=\"info\">\r\n                  <v-icon>mdi-tune</v-icon>\r\n                  <span class=\"ml-1\">Auto Tune</span>\r\n               </v-btn>\r\n               <v-btn v-if=\"autoTuning\" class=\"ml-1\" @click=\"cancelAutoTune()\" color=\"error\">\r\n                  <v-icon>mdi-tune</v-icon>\r\n                  <span class=\"ml-1\">Cancel</span>\r\n               </v-btn>\r\n               <div class=\"mt-1\">{{ autoTuneText }}</div>\r\n            </v-col>\r\n            <v-col cols=\"10\">\r\n               <div v-if=\"ready\" :class=\"{ 'pt-2': !error && !warning && recordingProgress == null && calibrationMovement != 0 }\" class=\"font-weight-black info--text\">{{ GCODECommand }}</div>\r\n               <div v-if=\"ready && calibrationMovement == 0\" class=\"font-weight-black info--text\">{{ customGCODE }}</div>\r\n               <div v-if=\"error\" class=\"font-weight-black error--text\">{{ error }}</div>\r\n               <div v-if=\"warning\" class=\"font-weight-black warning--text\">{{ warning }}</div>\r\n               <v-progress-linear v-if=\"recordingProgress != null\" :indeterminate=\"recordingProgress == -1\" :value=\"recordingProgress == -1 ? 0 : recordingProgress\" class=\"mb-4\" />\r\n            </v-col>\r\n         </v-row>\r\n      </v-card-text>\r\n\r\n      <v-dialog v-model=\"showDialog\" persistent width=\"480\">\r\n         <v-card>\r\n            <v-card-title>\r\n               <span class=\"headline\"> Confirm </span>\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n               You have chosen to perform a tuning manoeuvre which will move the axis a small distance.\r\n               <div class=\"text-center py-2 font-weight-black error--text\">This movement may not respect endstops.</div>\r\n               Please ensure the axis is in a safe position (usually the center) before proceeding.\r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n               <v-btn color=\"error darken-1\" text @click=\"dialogResult(false)\">\r\n                  {{ $t('generic.cancel') }}\r\n               </v-btn>\r\n               <v-spacer />\r\n               <v-checkbox v-model=\"dontShowModal\" class=\"pr-2\">\r\n                  <template v-slot:label>\r\n                     <span style=\"font-size: 0.7em\">Don't show this again</span>\r\n                  </template>\r\n               </v-checkbox>\r\n               <v-btn color=\"blue darken-1\" text @click=\"dialogResult(true)\">\r\n                  {{ $t('generic.ok') }}\r\n               </v-btn>\r\n            </v-card-actions>\r\n         </v-card>\r\n      </v-dialog>\r\n   </v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict';\r\n\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nimport { variables, tuningManoeuvres } from './config.js';\r\n\r\nimport PIDTune, { AxisParameters } from './PIDTune.js';\r\n// import { mapState, mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n   data: () => ({\r\n      variables,\r\n      error: null,\r\n      warning: null,\r\n      sampleRate: 100,\r\n      activateMode: 0,\r\n      tuningManoeuvres,\r\n      sampleCount: 500,\r\n      customGCODE: null,\r\n      showDialog: false,\r\n      selectedDriver: null,\r\n      dontShowModal: false,\r\n      selectedVariables: [],\r\n      calibrationMovement: 64,\r\n      recordingProgress: null, // null = not recording, -1 = recording but unknown progress, >=0 = recording & known progress\r\n      sampleRateContinuous: true,\r\n      pTerm: 0,\r\n      iTerm: 0,\r\n      dTerm: 0,\r\n      aTerm: 0,\r\n      vTerm: 0,\r\n      updatingPIDValue: false,\r\n      autoTuning: false,\r\n      autoTuner: null,\r\n      recording: false,\r\n      autoTuneText: '',\r\n      axisParams: null,\r\n      moveSpeed: 100,\r\n      moveDistance: 50,\r\n      moveAcceleration: 10000\r\n   }),\r\n   methods: {\r\n      ...mapActions('machine', ['sendCode', 'getFileList', 'download']),\r\n      nthThirdOfVariables(n) {\r\n         let filteredVariables = this.variables.filter((v) => !v.hideRecord);\r\n         let thirdLength = Math.ceil(filteredVariables.length / 3);\r\n         return filteredVariables.slice(n * thirdLength, (n + 1) * thirdLength);\r\n      },\r\n      dialogResult(res) {\r\n         this.showDialog = false;\r\n         if (res) {\r\n            this.record(true);\r\n         }\r\n      },\r\n      async record(force = false) {\r\n         this.recording = true;\r\n\r\n         //Capture original acceleration\r\n         const originalAcceleration = this.axisParams.acceleration;\r\n\r\n         try {\r\n            force |= this.dontShowModal;\r\n            if (this.calibrationMovement !== -1 && !force) {\r\n               this.showDialog = true;\r\n               return;\r\n            }\r\n\r\n            if (!this.customGCODE && this.calibrationMovement === 0) {\r\n               this.error = 'Enter a custom GCODE command before recording.';\r\n               return;\r\n            }\r\n\r\n            await this.sendCode({ code: `M201 ${this.axisParams.letter}${this.moveAcceleration}`, log: false });\r\n            console.log(this.stepCommand);\r\n            const gcodeToSend = this.calibrationMovement === 0 ? this.GCODECommand + '\\n' + this.customGCODE : this.GCODECommand + '\\n' + this.stepCommand();\r\n            this.recordingProgress = -1;\r\n            const reply = await this.sendCode({ code: gcodeToSend, fromInput: false });\r\n            if (reply.startsWith('Error: ')) {\r\n               this.error = reply;\r\n               return;\r\n            } else if (reply.startsWith('Warning: ')) {\r\n               this.warning = reply;\r\n            }\r\n            this.error = null;\r\n            this.warning = null;\r\n         } finally {\r\n            //Reset original acceleration\r\n            await this.sendCode({ code: `M201 ${this.axisParams.letter}${originalAcceleration}`, log: false });\r\n            await setTimeout(() => {\r\n               this.recording = false;\r\n            }, 1000);\r\n         }\r\n      },\r\n      stepCommand() {\r\n         return `G91 G1 H2 ${this.axisParams.letter}${this.moveDistance} F${this.moveSpeed * 60} \\n G4 P100 \\n G1 H2 ${this.axisParams.letter}-${this.moveDistance} F${this.moveSpeed * 60} G90`;\r\n      },\r\n      checkTerm(term) {\r\n         return term != '' && term >= 0;\r\n      },\r\n      async updatePID() {\r\n         if (this.checkTerm(this.pTerm) && this.checkTerm(this.iTerm) && this.checkTerm(this.dTerm)) {\r\n            try {\r\n               this.updatingPIDValue = true;\r\n               await this.sendCode({ code: `M569.1 P${this.selectedDriver}  R${this.pTerm} I${this.iTerm} D${this.dTerm} A${this.aTerm} V${this.vTerm}`, log: true });\r\n            } finally {\r\n               this.updatingPIDValue = false;\r\n            }\r\n         } else {\r\n            console.log('error');\r\n         }\r\n      },\r\n      async autoTune() {\r\n         try {\r\n            if (this.axisParams === null)\r\n               //JER put an error notice around this\r\n               return;\r\n            this.error = null;\r\n            this.autoTuning = true;\r\n            this.autoTuner = new PIDTune(this.sendCode, this.getFileList, this.download, this.selectedDriver, this.updateGraph, this.updateAutotuneText, this.axisParams);\r\n            await this.autoTuner.execute();\r\n            this.pTerm = this.autoTuner.pTerm;\r\n            this.iTerm = this.autoTuner.iTerm;\r\n            this.dTerm = this.autoTuner.dTerm;\r\n         } catch (ex) {\r\n            console.error(ex);\r\n            this.error = ex;\r\n         } finally {\r\n            this.autoTuning = false;\r\n         }\r\n      },\r\n      cancelAutoTune() {\r\n         this.autoTuner.cancel();\r\n         this.autoTuning = false;\r\n      },\r\n      updateGraph(filename, p, i, d) {\r\n         //this.$root.$emit('updatePIDGraph', filename);\r\n         this.pTerm = p;\r\n         this.iTerm = i;\r\n         this.dTerm = d;\r\n      },\r\n      updateAutotuneText(text) {\r\n         this.autoTuneText = text;\r\n      }\r\n   },\r\n   unmounted() {\r\n      this.cancelAutoTune();\r\n   },\r\n   computed: {\r\n      ...mapState('machine/model', {\r\n         boards: (state) => state.boards,\r\n         axes: (state) => state.move.axes\r\n      }),\r\n      ...mapState('settings', ['darkTheme']),\r\n      drivers() {\r\n         let results = [];\r\n         this.axes.forEach((axis) => {\r\n            axis.drivers.forEach((driver) => {\r\n               if (this.boards.some((board) => board && board.canAddress === parseInt(driver.board) && board.closedLoop != null)) {\r\n                  results.push({\r\n                     name: `${axis.letter} axis (driver ${driver.board}.${driver.driver})`,\r\n                     value: `${driver.board}.${driver.driver}`\r\n                  });\r\n               }\r\n            });\r\n         });\r\n         return results;\r\n      },\r\n      closedLoopPoints() {\r\n         if (this.selectedDriver) {\r\n            const canAddress = this.selectedDriver.split('.')[0];\r\n            const board = this.boards.find((board) => board.canAddress == canAddress);\r\n            if (board && board.closedLoop) {\r\n               return board.closedLoop.points;\r\n            }\r\n         }\r\n         return null;\r\n      },\r\n      closedLoopRuns() {\r\n         if (this.selectedDriver) {\r\n            const canAddress = this.selectedDriver.split('.')[0];\r\n            const board = this.boards.find((board) => board.canAddress == canAddress);\r\n            if (board && board.closedLoop) {\r\n               return board.closedLoop.runs;\r\n            }\r\n         }\r\n         return null;\r\n      },\r\n      totalTime() {\r\n         return Math.round((this.sampleCount / this.sampleRate) * 100) / 100;\r\n      },\r\n      GCODECommand() {\r\n         const pString = `P${this.selectedDriver}`;\r\n         const sString = `S${this.sampleCount}`;\r\n         const aString = `A${this.activateMode}`;\r\n         const rString = `R${this.sampleRateContinuous ? 0 : this.sampleRate}`;\r\n         const dString = `D${this.selectedVariables.reduce((acc, x) => acc + x.filterValue, 0)}`;\r\n         //const vString = `V${this.calibrationMovement > 0 ? this.calibrationMovement : 0}`;\r\n         return `M569.5 ${pString} ${sString} ${aString} ${rString} ${dString} V0`;\r\n      },\r\n      ready() {\r\n         return this.selectedDriver !== null && this.selectedVariables.length > 0;\r\n      }\r\n   },\r\n   watch: {\r\n      async selectedDriver(to) {\r\n         if (to) {\r\n            try {\r\n               this.pTerm = 0;\r\n               this.iTerm = 0;\r\n               this.dTerm = 0;\r\n               this.aTerm = 0;\r\n               this.vTerm = 0;\r\n               var queryResults = await this.sendCode({ code: `M569.1 P${to}`, log: false, fromInput: false });\r\n               if (queryResults) {\r\n                  this.pTerm = queryResults.match(/P=[0-9.]+/)[0].substring(2);\r\n                  this.iTerm = queryResults.match(/I=[0-9.]+/)[0].substring(2);\r\n                  this.dTerm = queryResults.match(/D=[0-9.]+/)[0].substring(2);\r\n                  this.aTerm = queryResults.match(/A=[0-9.]+/)[0].substring(2);\r\n                  this.vTerm = queryResults.match(/V=[0-9.]+/)[0].substring(2);\r\n               }\r\n\r\n               let selectedAxis = this.axes.filter((axis) => axis.drivers.some((driver) => `${driver.board}.${driver.driver}` === this.selectedDriver));\r\n               if (selectedAxis.length > 0) {\r\n                  selectedAxis = selectedAxis[0];\r\n                  this.moveAcceleration = selectedAxis.acceleration;\r\n                  this.axisParams = new AxisParameters(selectedAxis.letter, selectedAxis.acceleration, selectedAxis.speed, selectedAxis.stepsPerMm, selectedAxis.microstepping.value);\r\n               } else {\r\n                  this.axisParams = null;\r\n               }\r\n            } catch (e) {\r\n               console.log(e);\r\n            }\r\n         }\r\n      },\r\n      calibrationMovement() {\r\n         this.activateMode = 0;\r\n      },\r\n      closedLoopPoints(to) {\r\n         if (this.recordingProgress !== null) {\r\n            this.recordingProgress = (to / this.sampleCount) * 100;\r\n         }\r\n      },\r\n      closedLoopRuns() {\r\n         this.recordingProgress = null;\r\n         this.$emit('recordingFinished');\r\n      }\r\n   }\r\n};\r\n</script>\r\n","<template>\r\n\t<v-card class=\"d-flex flex-column fill-height\">\r\n\t\t<v-card-title class=\"pt-2 pb-1\">\r\n\t\t\t<v-icon small class=\"mr-2\">mdi-function-variant</v-icon>\r\n\t\t\tVariables\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-text class=\"content flex-grow-1 px-2 py-0 pr-4\">\r\n\t\t\t<v-checkbox\r\n\t\t\t\tdense\r\n\t\t\t\thide-details\r\n\t\t\t\tv-for=\"variable in chartableVariables\"\r\n\t\t\t\t:key=\"variable.id\"\r\n\t\t\t\tv-model=\"selectedVariables\"\r\n\t\t\t\t:label=\"variable.title\"\r\n\t\t\t\t:value=\"variable\"\r\n\t\t\t\t:disabled=\"!availableVariables.includes(variable.title)\"\r\n\t\t\t\t:color=\"darkTheme ?  variable.colour.dark : variable.colour.light\"\r\n\t\t\t/>\r\n\t\t</v-card-text>\r\n\r\n\t\t<v-spacer/>\r\n\r\n\t\t<v-card-actions class=\"d-flex\">\r\n\t\t\t<v-btn color=\"darken-1\" @click=\"selectAll\">All</v-btn>\r\n\t\t\t<v-spacer/>\r\n\t\t\t<v-btn color=\"darken-1\" @click=\"selectedVariables=[]\">None</v-btn>\r\n\t\t</v-card-actions>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { variables } from './config.js'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n\tdata: () => ({\r\n\t\tvariables,\r\n\t\tselectedVariables: []\r\n\t}),\r\n\tprops: {\r\n\t\tvalue: Array,\r\n\t\tavailableVariables: Array,\r\n\t},\r\n\tmounted() {\r\n\t\tthis.selectedVariables = this.value;\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState('settings', ['darkTheme']),\r\n\t\tchartableVariables() {\r\n\t\t\treturn this.variables.filter(variable => !variable.hideSelect);\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue() {\r\n\t\t\tthis.selectedVariables = this.value;\r\n\t\t},\r\n\t\tavailableVariables() {\r\n\t\t\tthis.selectedVariables = this.selectedVariables.filter(variable => this.availableVariables.includes(variable.title));\r\n\t\t},\r\n\t\tselectedVariables() {\r\n\t\t\tthis.$emit(\"input\", this.selectedVariables);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tselectAll() {\r\n\t\t\tthis.selectedVariables = this.variables.filter(variable => this.availableVariables.includes(variable.title));\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import './VPagination.sass'\n\nimport VIcon from '../VIcon'\n\n// Directives\nimport Resize from '../../directives/resize'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Intersectable from '../../mixins/intersectable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, CreateElement, VNodeChildrenArrayContents } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Intersectable({ onVisible: ['init'] }),\n  Themeable\n).extend({\n  name: 'v-pagination',\n\n  directives: { Resize },\n\n  props: {\n    circle: Boolean,\n    disabled: Boolean,\n    length: {\n      type: Number,\n      default: 0,\n      validator: (val: number) => val % 1 === 0,\n    },\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    totalVisible: [Number, String],\n    value: {\n      type: Number,\n      default: 0,\n    },\n    pageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.page',\n    },\n    currentPageAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.currentPage',\n    },\n    previousAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.previous',\n    },\n    nextAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.next',\n    },\n    wrapperAriaLabel: {\n      type: String,\n      default: '$vuetify.pagination.ariaLabel.wrapper',\n    },\n  },\n\n  data () {\n    return {\n      maxButtons: 0,\n      selected: null as number | null,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-pagination': true,\n        'v-pagination--circle': this.circle,\n        'v-pagination--disabled': this.disabled,\n        ...this.themeClasses,\n      }\n    },\n\n    items (): (string | number)[] {\n      const totalVisible = parseInt(this.totalVisible, 10)\n\n      if (totalVisible === 0 || isNaN(this.length) || this.length > Number.MAX_SAFE_INTEGER) {\n        return []\n      }\n\n      const maxLength = Math.min(\n        Math.max(0, totalVisible) || this.length,\n        Math.max(0, this.maxButtons) || this.length,\n        this.length\n      )\n\n      if (this.length <= maxLength) {\n        return this.range(1, this.length)\n      }\n\n      const even = maxLength % 2 === 0 ? 1 : 0\n      const left = Math.floor(maxLength / 2)\n      const right = this.length - left + 1 + even\n\n      if (this.value > left && this.value < right) {\n        const firstItem = 1\n        const lastItem = this.length\n        const start = this.value - left + 2\n        const end = this.value + left - 2 - even\n        const secondItem = start - 1 === firstItem + 1 ? 2 : '...'\n        const beforeLastItem = end + 1 === lastItem - 1 ? end + 1 : '...'\n\n        return [1, secondItem, ...this.range(start, end), beforeLastItem, this.length]\n      } else if (this.value === left) {\n        const end = this.value + left - 1 - even\n        return [...this.range(1, end), '...', this.length]\n      } else if (this.value === right) {\n        const start = this.value - left + 1\n        return [1, '...', ...this.range(start, this.length)]\n      } else {\n        return [\n          ...this.range(1, left),\n          '...',\n          ...this.range(right, this.length),\n        ]\n      }\n    },\n  },\n\n  watch: {\n    value () {\n      this.init()\n    },\n  },\n\n  beforeMount () {\n    this.init()\n  },\n\n  methods: {\n    init () {\n      this.selected = null\n\n      this.onResize()\n      this.$nextTick(this.onResize)\n      // TODO: Change this (f75dee3a, cbdf7caa)\n      setTimeout(() => (this.selected = this.value), 100)\n    },\n    onResize () {\n      const width = this.$el && this.$el.parentElement\n        ? this.$el.parentElement.clientWidth\n        : window.innerWidth\n\n      this.maxButtons = Math.floor((width - 96) / 42)\n    },\n    next (e: Event) {\n      e.preventDefault()\n      this.$emit('input', this.value + 1)\n      this.$emit('next')\n    },\n    previous (e: Event) {\n      e.preventDefault()\n      this.$emit('input', this.value - 1)\n      this.$emit('previous')\n    },\n    range (from: number, to: number) {\n      const range = []\n\n      from = from > 0 ? from : 1\n\n      for (let i = from; i <= to; i++) {\n        range.push(i)\n      }\n\n      return range\n    },\n    genIcon (h: CreateElement, icon: string, disabled: boolean, fn: EventListener, label: String): VNode {\n      return h('li', [\n        h('button', {\n          staticClass: 'v-pagination__navigation',\n          class: {\n            'v-pagination__navigation--disabled': disabled,\n          },\n          attrs: {\n            disabled,\n            type: 'button',\n            'aria-label': label,\n          },\n          on: disabled ? {} : { click: fn },\n        }, [h(VIcon, [icon])]),\n      ])\n    },\n    genItem (h: CreateElement, i: string | number): VNode {\n      const color: string | false = (i === this.value) && (this.color || 'primary')\n      const isCurrentPage = i === this.value\n      const ariaLabel = isCurrentPage ? this.currentPageAriaLabel : this.pageAriaLabel\n\n      return h('button', this.setBackgroundColor(color, {\n        staticClass: 'v-pagination__item',\n        class: {\n          'v-pagination__item--active': i === this.value,\n        },\n        attrs: {\n          type: 'button',\n          'aria-current': isCurrentPage,\n          'aria-label': this.$vuetify.lang.t(ariaLabel, i),\n        },\n        on: {\n          click: () => this.$emit('input', i),\n        },\n      }), [i.toString()])\n    },\n    genItems (h: CreateElement): VNode[] {\n      return this.items.map((i, index) => {\n        return h('li', { key: index }, [\n          isNaN(Number(i)) ? h('span', { class: 'v-pagination__more' }, [i.toString()]) : this.genItem(h, i),\n        ])\n      })\n    },\n    genList (h: CreateElement, children: VNodeChildrenArrayContents): VNode {\n      return h('ul', {\n        directives: [{\n          modifiers: { quiet: true },\n          name: 'resize',\n          value: this.onResize,\n        }],\n        class: this.classes,\n      }, children)\n    },\n  },\n\n  render (h): VNode {\n    const children = [\n      this.genIcon(h,\n        this.$vuetify.rtl ? this.nextIcon : this.prevIcon,\n        this.value <= 1,\n        this.previous,\n        this.$vuetify.lang.t(this.previousAriaLabel)),\n      this.genItems(h),\n      this.genIcon(h,\n        this.$vuetify.rtl ? this.prevIcon : this.nextIcon,\n        this.value >= this.length,\n        this.next,\n        this.$vuetify.lang.t(this.nextAriaLabel)),\n    ]\n\n    return h('nav', {\n      attrs: {\n        role: 'navigation',\n        'aria-label': this.$vuetify.lang.t(this.wrapperAriaLabel),\n      },\n    }, [this.genList(h, children)])\n  },\n})\n","// Styles\nimport './VRadio.sass'\n\n// Components\nimport VRadioGroup from './VRadioGroup'\nimport VLabel from '../VLabel'\nimport VIcon from '../VIcon'\nimport VInput from '../VInput'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Colorable from '../../mixins/colorable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Rippleable from '../../mixins/rippleable'\nimport Themeable from '../../mixins/themeable'\nimport Selectable, { prevent } from '../../mixins/selectable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport { mergeListeners } from '../../util/mergeData'\n\nconst baseMixins = mixins(\n  BindsAttrs,\n  Colorable,\n  Rippleable,\n  GroupableFactory('radioGroup'),\n  Themeable\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  radioGroup: InstanceType<typeof VRadioGroup>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-radio',\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    id: String,\n    label: String,\n    name: String,\n    offIcon: {\n      type: String,\n      default: '$radioOff',\n    },\n    onIcon: {\n      type: String,\n      default: '$radioOn',\n    },\n    readonly: Boolean,\n    value: {\n      default: null,\n    },\n  },\n\n  data: () => ({\n    isFocused: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-radio--is-disabled': this.isDisabled,\n        'v-radio--is-focused': this.isFocused,\n        ...this.themeClasses,\n        ...this.groupClasses,\n      }\n    },\n    computedColor (): string | undefined {\n      if (this.isDisabled) return undefined\n      return Selectable.options.computed.computedColor.call(this)\n    },\n    computedIcon (): string {\n      return this.isActive\n        ? this.onIcon\n        : this.offIcon\n    },\n    computedId (): string {\n      return VInput.options.computed.computedId.call(this)\n    },\n    hasLabel: VInput.options.computed.hasLabel,\n    hasState (): boolean {\n      return (this.radioGroup || {}).hasState\n    },\n    isDisabled (): boolean {\n      return this.disabled || (\n        !!this.radioGroup &&\n        this.radioGroup.isDisabled\n      )\n    },\n    isReadonly (): boolean {\n      return this.readonly || (\n        !!this.radioGroup &&\n        this.radioGroup.isReadonly\n      )\n    },\n    computedName (): string {\n      if (this.name || !this.radioGroup) {\n        return this.name\n      }\n\n      return this.radioGroup.name || `radio-${this.radioGroup._uid}`\n    },\n    rippleState (): string | undefined {\n      return Selectable.options.computed.rippleState.call(this)\n    },\n    validationState (): string | undefined {\n      return (this.radioGroup || {}).validationState || this.computedColor\n    },\n  },\n\n  methods: {\n    genInput (args: any) {\n      // We can't actually use the mixin directly because\n      // it's made for standalone components, but its\n      // genInput method is exactly what we need\n      return Selectable.options.methods.genInput.call(this, 'radio', args)\n    },\n    genLabel () {\n      if (!this.hasLabel) return null\n\n      return this.$createElement(VLabel, {\n        on: {\n          // Label shouldn't cause the input to focus\n          click: prevent,\n        },\n        attrs: {\n          for: this.computedId,\n        },\n        props: {\n          color: this.validationState,\n          focused: this.hasState,\n        },\n      }, getSlot(this, 'label') || this.label)\n    },\n    genRadio () {\n      const { title, ...radioAttrs } = this.attrs$\n\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.$createElement(VIcon, this.setTextColor(this.validationState, {\n          props: {\n            dense: this.radioGroup && this.radioGroup.dense,\n          },\n        }), this.computedIcon),\n        this.genInput({\n          name: this.computedName,\n          value: this.value,\n          ...radioAttrs,\n        }),\n        this.genRipple(this.setTextColor(this.rippleState)),\n      ])\n    },\n    onFocus (e: Event) {\n      this.isFocused = true\n      this.$emit('focus', e)\n    },\n    onBlur (e: Event) {\n      this.isFocused = false\n      this.$emit('blur', e)\n    },\n    onChange () {\n      if (this.isDisabled || this.isReadonly || this.isActive) return\n\n      this.toggle()\n    },\n    onKeydown: () => {}, // Override default with noop\n  },\n\n  render (h): VNode {\n    const data: VNodeData = {\n      staticClass: 'v-radio',\n      class: this.classes,\n      on: mergeListeners({\n        click: this.onChange,\n      }, this.listeners$),\n      attrs: { title: this.attrs$.title },\n    }\n\n    return h('div', data, [\n      this.genRadio(),\n      this.genLabel(),\n    ])\n  },\n})\n","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VRadioGroup.sass'\n\n// Extensions\nimport VInput from '../VInput'\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { PropType } from 'vue'\n\nconst baseMixins = mixins(\n  BaseItemGroup,\n  VInput\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-radio-group',\n\n  provide () {\n    return {\n      radioGroup: this,\n    }\n  },\n\n  props: {\n    column: {\n      type: Boolean,\n      default: true,\n    },\n    height: {\n      type: [Number, String],\n      default: 'auto',\n    },\n    name: String,\n    row: Boolean,\n    // If no value set on VRadio\n    // will match valueComparator\n    // force default to null\n    value: null as unknown as PropType<any>,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--radio-group': true,\n        'v-input--radio-group--column': this.column && !this.row,\n        'v-input--radio-group--row': this.row,\n      }\n    },\n  },\n\n  methods: {\n    genDefaultSlot () {\n      return this.$createElement('div', {\n        staticClass: 'v-input--radio-group__input',\n        attrs: {\n          id: this.id,\n          role: 'radiogroup',\n          'aria-labelledby': this.computedId,\n        },\n      }, VInput.options.methods.genDefaultSlot.call(this))\n    },\n    genInputSlot () {\n      const render = VInput.options.methods.genInputSlot.call(this)\n\n      delete render.data!.on!.click\n\n      return render\n    },\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return null\n\n      label.data!.attrs!.id = this.computedId\n      // WAI considers this an orphaned label\n      delete label.data!.attrs!.for\n      label.tag = 'legend'\n\n      return label\n    },\n    onClick: BaseItemGroup.options.methods.onClick,\n  },\n\n  render (h) {\n    const vnode = VInput.options.render.call(this, h)\n\n    this._b(vnode.data!, 'div', this.attrs$)\n\n    return vnode\n  },\n})\n","// Styles\nimport './VRangeSlider.sass'\n\n// Components\nimport VSlider from '../VSlider'\n\n// Helpers\nimport {\n  addOnceEventListener,\n  createRange,\n  deepEqual,\n  passiveSupported,\n} from '../../util/helpers'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default VSlider.extend({\n  name: 'v-range-slider',\n\n  props: {\n    value: {\n      type: Array,\n      default: () => ([0, 0]),\n    } as unknown as PropValidator<[number, number]>,\n  },\n\n  data () {\n    return {\n      activeThumb: null as null | number,\n      lazyValue: this.value,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VSlider.options.computed.classes.call(this),\n        'v-input--range-slider': true,\n      }\n    },\n    internalValue: {\n      get (): number[] {\n        return this.lazyValue\n      },\n      set (val: number[]) {\n        // Round value to ensure the\n        // entire slider range can\n        // be selected with step\n        let value = val.map((v = 0) => this.roundValue(Math.min(Math.max(v, this.minValue), this.maxValue)))\n\n        // Switch values if range and wrong order\n        if (value[0] > value[1] || value[1] < value[0]) {\n          if (this.activeThumb !== null) {\n            const toFocus = this.activeThumb === 1 ? 0 : 1\n            const el = this.$refs[`thumb_${toFocus}`] as HTMLElement\n            el.focus()\n          }\n          value = [value[1], value[0]]\n        }\n\n        this.lazyValue = value\n        if (!deepEqual(value, this.value)) this.$emit('input', value)\n\n        this.validate()\n      },\n    },\n    inputWidth (): number[] {\n      return this.internalValue.map((v: number) => (\n        this.roundValue(v) - this.minValue) / (this.maxValue - this.minValue) * 100\n      )\n    },\n  },\n\n  methods: {\n    getTrackStyle (startLength: number, endLength: number, startPadding = 0, endPadding = 0) {\n      const startDir = this.vertical ? this.$vuetify.rtl ? 'top' : 'bottom' : this.$vuetify.rtl ? 'right' : 'left'\n      const endDir = this.vertical ? 'height' : 'width'\n\n      const start = `calc(${startLength}% + ${startPadding}px)`\n      const end = `calc(${endLength}% + ${endPadding}px)`\n\n      return {\n        transition: this.trackTransition,\n        [startDir]: start,\n        [endDir]: end,\n      }\n    },\n    getIndexOfClosestValue (arr: number[], v: number) {\n      if (Math.abs(arr[0] - v) < Math.abs(arr[1] - v)) return 0\n      else return 1\n    },\n    genInput () {\n      return createRange(2).map(i => {\n        const input = VSlider.options.methods.genInput.call(this)\n\n        input.data = input.data || {}\n        input.data.attrs = input.data.attrs || {}\n        input.data.attrs.value = this.internalValue[i]\n        input.data.attrs.id = `input-${i ? 'max' : 'min'}-${this._uid}`\n\n        return input\n      })\n    },\n    genTrackContainer () {\n      const children = []\n\n      const padding = this.isDisabled ? 10 : 0\n      const sections: { class: string, color: string | undefined, styles: [number, number, number, number] }[] = [\n        {\n          class: 'v-slider__track-background',\n          color: this.computedTrackColor,\n          styles: [0, this.inputWidth[0], 0, -padding],\n        },\n        {\n          class: this.isDisabled ? 'v-slider__track-background' : 'v-slider__track-fill',\n          color: this.isDisabled ? this.computedTrackColor : this.computedTrackFillColor,\n          styles: [this.inputWidth[0], Math.abs(this.inputWidth[1] - this.inputWidth[0]), padding, padding * -2],\n        },\n        {\n          class: 'v-slider__track-background',\n          color: this.computedTrackColor,\n          styles: [this.inputWidth[1], Math.abs(100 - this.inputWidth[1]), padding, -padding],\n        },\n      ]\n\n      if (this.$vuetify.rtl) sections.reverse()\n\n      children.push(...sections.map(section => this.$createElement('div', this.setBackgroundColor(section.color, {\n        staticClass: section.class,\n        style: this.getTrackStyle(...section.styles),\n      }))))\n\n      return this.$createElement('div', {\n        staticClass: 'v-slider__track-container',\n        ref: 'track',\n      }, children)\n    },\n    genChildren () {\n      return [\n        this.genInput(),\n        this.genTrackContainer(),\n        this.genSteps(),\n        createRange(2).map(index => {\n          const value = this.internalValue[index]\n          const onFocus = (e: Event) => {\n            this.isFocused = true\n            this.activeThumb = index\n\n            this.$emit('focus', e)\n          }\n\n          const onBlur = (e: Event) => {\n            this.isFocused = false\n            this.activeThumb = null\n\n            this.$emit('blur', e)\n          }\n\n          const valueWidth = this.inputWidth[index]\n          const isActive = this.isActive && this.activeThumb === index\n          const isFocused = this.isFocused && this.activeThumb === index\n\n          return this.genThumbContainer(value, valueWidth, isActive, isFocused, onFocus, onBlur, `thumb_${index}`)\n        }),\n      ]\n    },\n    reevaluateSelected (value: number) {\n      this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value)\n      const refName = `thumb_${this.activeThumb}`\n      const thumbRef = this.$refs[refName] as HTMLElement\n      thumbRef.focus()\n    },\n    onSliderMouseDown (e: MouseEvent | TouchEvent) {\n      const value = this.parseMouseMove(e)\n\n      this.reevaluateSelected(value)\n\n      this.oldValue = this.internalValue\n      this.isActive = true\n\n      if ((e.target as Element)?.matches('.v-slider__thumb-container, .v-slider__thumb-container *')) {\n        this.thumbPressed = true\n        const domRect = (e.target as Element).getBoundingClientRect()\n        const touch = 'touches' in e ? e.touches[0] : e\n        this.startOffset = this.vertical\n          ? touch.clientY - (domRect.top + domRect.height / 2)\n          : touch.clientX - (domRect.left + domRect.width / 2)\n      } else {\n        this.startOffset = 0\n        window.clearTimeout(this.mouseTimeout)\n        this.mouseTimeout = window.setTimeout(() => {\n          this.thumbPressed = true\n        }, 300)\n      }\n\n      const mouseUpOptions = passiveSupported ? { passive: true, capture: true } : true\n      const mouseMoveOptions = passiveSupported ? { passive: true } : false\n\n      const isTouchEvent = 'touches' in e\n\n      this.onMouseMove(e)\n      this.app.addEventListener(isTouchEvent ? 'touchmove' : 'mousemove', this.onMouseMove, mouseMoveOptions)\n      addOnceEventListener(this.app, isTouchEvent ? 'touchend' : 'mouseup', this.onSliderMouseUp, mouseUpOptions)\n\n      this.$emit('start', this.internalValue)\n    },\n    onSliderClick (e: MouseEvent) {\n      if (!this.isActive) {\n        if (this.noClick) {\n          this.noClick = false\n          return\n        }\n\n        const value = this.parseMouseMove(e)\n\n        this.reevaluateSelected(value)\n\n        this.setInternalValue(value)\n\n        this.$emit('change', this.internalValue)\n      }\n    },\n    onMouseMove (e: MouseEvent | TouchEvent) {\n      const value = this.parseMouseMove(e)\n\n      if (e.type === 'mousemove') {\n        this.thumbPressed = true\n      }\n\n      if (this.activeThumb === null) {\n        this.activeThumb = this.getIndexOfClosestValue(this.internalValue, value)\n      }\n\n      this.setInternalValue(value)\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (this.activeThumb === null) return\n\n      const value = this.parseKeyDown(e, this.internalValue[this.activeThumb])\n\n      if (value == null) return\n\n      this.setInternalValue(value)\n      this.$emit('change', this.internalValue)\n    },\n    setInternalValue (value: number) {\n      this.internalValue = this.internalValue.map((v: number, i: number) => {\n        if (i === this.activeThumb) return value\n        else return Number(v)\n      })\n    },\n  },\n})\n","import VSlider from './VSlider'\n\nexport { VSlider }\nexport default VSlider\n","/* eslint-disable  no-unused-vars */\r\n/* eslint-disable  no-empty */\r\n\r\n'use strict';\r\n\r\nimport Path from '@/utils/path.ts';\r\nimport CSV from '@/utils/csv.ts';\r\n\r\nconst maxPTerm = 500;\r\nconst maxPTime = 4;\r\nconst maxDTerm = 0.4;\r\nconst maxITerm = 50000;\r\n\r\nexport class AxisParameters {\r\n   constructor(letter, acceleration, maxSpeed, stepsPerMM, microstepping) {\r\n      this.letter = letter;\r\n      this.acceleration = acceleration;\r\n      this.maxSpeed = maxSpeed;\r\n      this.stepsPerMM = stepsPerMM;\r\n      this.microstepping = microstepping;\r\n   }\r\n\r\n/*\r\nG91 G1 H2 Xxx Fyyy G90\r\nReplace X in each command by the axis that the motor is assigned to. Value xx should be calculated so that the movement is 4 full steps. yyy should be the maximum allowed by M203. We may want to allow the M203 and M201 parameters to be temporarily overridden too. I am using M201 X10000 and M203 X50000 in testing.\r\n*/\r\n\r\n}\r\n\r\nexport default class {\r\n   constructor(sendCode, getFileList, downloadFile, driver, updateGraphCallback, updateAutotuneTextCallback, axisParams) {\r\n      this.pTerm = 100;\r\n      this.iTerm = 0;\r\n      this.dTerm = 0;\r\n      this.aTerm = 0;\r\n      this.vTerm = 0;\r\n      this.warningValue = 0;\r\n      this.errorValue = 0;\r\n      this.selectedDriver = driver;\r\n      this.sendCode = sendCode;\r\n      this.getFileList = getFileList;\r\n      this.downloadFile = downloadFile;\r\n      this.updateGraphCallback = updateGraphCallback;\r\n      this.updateAutotuneStatusCallback = updateAutotuneTextCallback;\r\n      this.cancelled = false;\r\n      this.axisParams = axisParams;\r\n      this.lastFile = '';\r\n   }\r\n\r\n   cancel() {\r\n      this.cancelled = true;\r\n   }\r\n\r\n   async getPID() {\r\n      const queryResults = await this.sendCode({ code: `M569.1 P${this.selectedDriver}`, log: false, fromInput: false });\r\n      if (queryResults) {\r\n         this.pTerm = Number(queryResults.match(/P=[0-9.]+/)[0].substring(2));\r\n         this.iTerm = Number(queryResults.match(/I=[0-9.]+/)[0].substring(2));\r\n         this.dTerm = Number(queryResults.match(/D=[0-9.]+/)[0].substring(2));\r\n         this.aTerm = Number(queryResults.match(/A=[0-9.]+/)[0].substring(2));\r\n         this.vTerm = Number(queryResults.match(/V=[0-9.]+/)[0].substring(2));\r\n         \r\n         const match = /Warning\\/error threshold ([0-9.]+)\\/([0-9.]+)/g.exec(queryResults);\r\n         this.warningValue = Number(match[1]);\r\n         this.errorValue = Number(match[2]);\r\n      }\r\n   }\r\n   \r\n\r\n   async updatePID() {\r\n      let code = `M569.1 P${this.selectedDriver} R${this.pTerm} I${this.iTerm} D${this.dTerm} E0:0`\r\n      await this.sendCode({ code: code, log: false });\r\n      await this.sendCode({ code: `M569.1 P${this.selectedDriver}`, log: false });\r\n   }\r\n\r\n   async resetErrorThreshold() {\r\n      await this.sendCode({ code: `M569.1 P${this.selectedDriver} E${this.warningValue}:${this.errorValue}`, log: false });\r\n   }\r\n\r\n   sleep(ms) {\r\n      return new Promise((resolve) => setTimeout(resolve, ms));\r\n   }\r\n\r\n   async findP_Test() {\r\n      let solved = false;\r\n      let count = 0;\r\n\r\n      this.pTerm = 100; //Reset P to 100 as a start point\r\n      this.iTerm = 0;\r\n      this.dTerm = 0;\r\n      await this.updatePID();\r\n\r\n      while (!solved && count < 10) {\r\n         count++;\r\n         let data = await this.runStepManouver();\r\n         let processedData = this.processData(data);\r\n\r\n         if (processedData.periods.length < 8) {\r\n            this.pTerm += 50;\r\n            this.iTerm = 0;\r\n            this.dTerm = 0;\r\n            await this.updatePID();\r\n         } else {\r\n            //Oscillations are too far apart\r\n            let avg = processedData.periods.slice(1, 7).reduce((a, b) => a + b, 0) / 6;\r\n            let under = processedData.periods.slice(1, 7).filter((period) => period < avg * 0.95);\r\n            let over = processedData.periods.slice(1, 7).filter((period) => period > avg * 1.05);\r\n            if (under.length > 1) {\r\n               this.pTerm += 50;\r\n               await this.updatePID();\r\n            }\r\n            //Oscillations are too close\r\n            else if (over.length > 1) {\r\n               this.pTerm -= 25;\r\n               await this.updatePID();\r\n            } else {\r\n               solved = true;\r\n            }\r\n         }\r\n\r\n         if (this.pTerm > 700) {\r\n            return;\r\n         }\r\n\r\n         await this.sleep(2000);\r\n      }\r\n   }\r\n\r\n   async findP() {\r\n      let solved = false;\r\n      let currentTarget = 0;\r\n      this.pTerm = 10; //Reset P to 100 as a start point\r\n      this.iTerm = 0;\r\n      this.dTerm = 0;\r\n      await this.updatePID();\r\n      await this.runStepManouver();\r\n\r\n      let peakTime = 1000;\r\n      let repeat = 0;\r\n\r\n      while (!solved && this.pTerm < maxPTerm) {\r\n         if (this.cancelled) {\r\n            return false;\r\n         }\r\n\r\n         this.updateStatus(`Autotune: Testing P${this.pTerm}`);\r\n         await this.updatePID();\r\n         let data = await this.runStepManouver();\r\n         let processedData = this.processData(data);\r\n         let measurement = processedData.peaks[0].time;\r\n         if (measurement < peakTime && Math.abs(measurement - peakTime) > maxPTime) {\r\n            peakTime = measurement;\r\n            if(this.pTerm < 100) {\r\n            this.pTerm += 10;\r\n            }\r\n            else{\r\n               this.pTerm += 25;\r\n            }\r\n            currentTarget = this.pTerm;\r\n            repeat = 0;\r\n         } else {\r\n            if (repeat < 1) {\r\n               repeat++;\r\n               if(this.pTerm < 100) {\r\n                  this.pTerm += 10;\r\n                  }\r\n                  else{\r\n                     this.pTerm += 25;\r\n                  }\r\n            } else {\r\n               solved = true;\r\n               this.pTerm = currentTarget; //Use the last term that had the most significant change\r\n               await this.updatePID();\r\n               this.updateStatus(`Autotune: P${this.pTerm} found`);\r\n            }\r\n         }\r\n      }\r\n      return solved;\r\n   }\r\n\r\n   async findD() {\r\n      let solved = false;\r\n      this.iTerm = 0;\r\n      this.dTerm = 0;\r\n      while (!solved && this.dTerm < maxDTerm) {\r\n         if (this.cancelled) {\r\n            return false;\r\n         }\r\n         await this.updatePID();\r\n         this.updateStatus(`Autotune: Testing D${this.dTerm}`);\r\n         let data = await this.runStepManouver();\r\n         let processedData = this.processData(data);\r\n         var overshoots = processedData.peaks.filter((peak) => peak.step - processedData.stepTarget > 0.05);\r\n\r\n         if (overshoots.length > 0) {\r\n            if(this.dTerm < 0.5) {\r\n               this.dTerm += 0.01;\r\n            } else{\r\n               this.dTerm += 0.025;\r\n            }\r\n            \r\n            this.dTerm = Number(this.dTerm.toPrecision(3));\r\n         } else {\r\n            solved = true;\r\n         }\r\n         await this.sleep(1000);\r\n      }\r\n      return solved;\r\n   }\r\n\r\n   async findI() {\r\n      let solved = false;\r\n      let count = 0;\r\n      let stableTime = 999999;\r\n      let currentTerm = 0;\r\n      this.iTerm = 1000; \r\n      while (!solved && this.iTerm < maxITerm) {\r\n         if (this.cancelled) {\r\n            return false;\r\n         }\r\n\r\n         this.updateStatus(`Autotune: Testing I${this.iTerm}`);\r\n         await this.updatePID();\r\n         let data = await this.runStepManouver(true);\r\n         let processedData = this.processData(data);\r\n         let unstableTimes = processedData.error.filter((p) => Math.abs(p.error) > 0);\r\n         let currentTime = unstableTimes[unstableTimes.length - 1].time; //get the last unstable time\r\n         if (currentTime < stableTime - 25) {\r\n            stableTime = currentTime;\r\n            this.iTerm += 1000;\r\n            currentTerm = this.iTerm;\r\n            this.iTerm = Math.trunc(this.iTerm);\r\n            count = 0;\r\n         } else {\r\n            count++;\r\n            this.iTerm += 500;\r\n            if (count > 1) {\r\n               this.iTerm = currentTerm;\r\n               await this.updatePID();\r\n               solved = true;\r\n               this.updateStatus(`Autotune: Testing I${this.iTerm}`);\r\n            }\r\n         }\r\n         await this.sleep(2000);\r\n      }\r\n      return solved;\r\n   }\r\n\r\n   processData(csv) {\r\n      let peaks = [];\r\n      let valleys = [];\r\n      let currentError = [];\r\n\r\n      if (csv.measuredIndex == -1 || csv.targetIndex == -1) {\r\n         return;\r\n      }\r\n\r\n      let stepTarget = 0;\r\n      let rising = true;\r\n\r\n      let initialOffset = csv.data.content[0][csv.measuredIndex] - csv.data.content[0][csv.targetIndex] ;\r\n\r\n      for (let idx = 0; idx < csv.data.content.length - 1; idx++) {\r\n         let current = csv.data.content[idx];\r\n         current[csv.targetIndex] -= initialOffset;\r\n         let next = csv.data.content[idx + 1];\r\n\r\n         stepTarget = current[csv.targetIndex] > stepTarget ? current[csv.targetIndex] : stepTarget;\r\n         if (current[csv.measuredIndex] > next[csv.measuredIndex] && rising) {\r\n            peaks.push({ time: current[csv.timeStamp], step: current[csv.measuredIndex] });\r\n            rising = false;\r\n         }\r\n         if (current[csv.measuredIndex] < next[csv.measuredIndex] && !rising) {\r\n            valleys.push({ time: current[csv.timeStamp], step: current[csv.measuredIndex] });\r\n            rising = true;\r\n         }\r\n         if (current[csv.timeStamp] > 10) {\r\n            currentError.push({ time: Number(current[csv.timeStamp]), error: current[csv.measuredIndex] - current[csv.targetIndex] });\r\n         }\r\n      }\r\n\r\n      let periods = [];\r\n      for (let idx = 0; idx < peaks.length - 1; idx++) {\r\n         periods.push(peaks[idx + 1].time - peaks[idx].time);\r\n      }\r\n      let averagePeriod = periods.reduce((a, b) => a + b, 0) / periods.length;\r\n\r\n      let count = Math.min(peaks.length, valleys.length);\r\n      for (let idx = 0; idx < count; idx++) {}\r\n\r\n      return { peaks: peaks, valleys: valleys, periods: periods, averagePeriod: averagePeriod, stepTarget: stepTarget, error: currentError };\r\n   }\r\n\r\n   fetchCSV(csvText) {\r\n      let csvData = new CSV(csvText);\r\n      let timeStamp = csvData.headers.indexOf('Timestamp');\r\n      let measuredIndex = csvData.headers.indexOf('Measured Motor Steps');\r\n      let targetIndex = csvData.headers.indexOf('Target Motor Steps');\r\n      return { data: csvData, timeStamp: timeStamp, measuredIndex: measuredIndex, targetIndex: targetIndex };\r\n   }\r\n\r\n   async runStepManouver(iTermTest = false) {\r\n      //M569.5 P50.0 S1000 A0 R0 D6 V64\r\n      if (this.selectedDriver == null) {\r\n         return;\r\n      }\r\n      if (iTermTest) {\r\n         await this.sendCode({ code: `M569.5 P${this.selectedDriver} S500 R250 D6 A0`, log: true });\r\n         await this.sendCode({ code: this.generateFourFullStepsGCode(), log: true }); \r\n         await this.sleep(3000);\r\n      } else {\r\n         await this.sendCode({ code: `M569.5 P${this.selectedDriver} S1000 R2000 D6 A0`, log: true }); //Measure + Target = 6   Current Error = 8\r\n         await this.sendCode({ code: this.generateFourFullStepsGCode(), log: true }); \r\n         await this.sleep(3000);\r\n      }\r\n      \r\n      let files = (await this.getFileList(Path.closedLoop)).filter((file) => !file.isDirectory && file.name.endsWith('.csv')).sort((a, b) => b.lastModified - a.lastModified);\r\n      let data = await this.downloadFile({ filename: `${Path.closedLoop}/${files[0].name}`, type: 'text', showProgress: false, showSuccess: false, showError: true });\r\n      if (data === '') {\r\n         throw new Error('Could not read data from CSV');\r\n      }\r\n      if (this.updateGraphCallback !== null) {\r\n         this.updateGraphCallback(`Path.closedLoop}/${files[0].name}`, this.pTerm, this.iTerm, this.dTerm);\r\n      }\r\n\r\n      if (!files || files.length === 0  || this.lastFile === files[0].name) { \r\n         throw new Error('No new data found')\r\n      }\r\n\r\n\r\n      this.lastFile = files[0].name;\r\n\r\n      return this.fetchCSV(data);\r\n   }\r\n\r\n   async execute() {\r\n      this.cancelled = false;\r\n      let success = true;\r\n      await this.getPID();\r\n\r\n      \r\n      success = await this.findP();\r\n      if (success) {\r\n         success = await this.findD();\r\n      }\r\n      if (success) {\r\n         success = await this.findI();\r\n      }\r\n           \r\n      await this.resetErrorThreshold();\r\n\r\n      await this.sendCode({ code: `M117 ${this.selectedDriver}: Tuning Complete `, log: true });\r\n      this.updateStatus('');\r\n      return true;\r\n   }\r\n\r\n   updateStatus(text) {\r\n      if (this.updateAutotuneStatusCallback) {\r\n         this.updateAutotuneStatusCallback(text);\r\n      }\r\n   }\r\n\r\n   getFullStep() {\r\n      return  1 / this.axisParams.stepsPerMM * this.axisParams.microstepping;\r\n   }\r\n\r\n   generateFourFullStepsGCode() {\r\n      const gcode = `G91 G1 H2 ${this.axisParams.letter}${this.getFullStep() * -16} F${this.axisParams.maxSpeed} G90`;\r\n      console.log(gcode);\r\n      return gcode;\r\n   }\r\n\r\n\r\n\r\n\r\n}\r\n","export let yAxes = [\r\n\t{\r\n\t\tid: 'count',\r\n\t\ttype: 'linear',\r\n\t\tposition: 'left',\r\n\t},\r\n\t{\r\n\t\tid: 'steps',\r\n\t\ttype: 'linear',\r\n\t\tposition: 'left',\r\n\t},\r\n\t{\r\n\t\tid: 'degrees',\r\n\t\ttype: 'linear',\r\n\t\tposition: 'right',\r\n\t},\r\n\t{\r\n\t\tid: 'unitless',\r\n\t\ttype: 'linear',\r\n\t\tposition: 'right',\r\n\t}\r\n];\r\n\r\nexport let variables = [\r\n\t{\r\n\t\tid: \"encoderReading\",\r\n\t\ttitle: \"Raw Encoder Reading\",\r\n\t\tfilterValue: 1,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#b30000\",\r\n\t\t\tdark: \"#e60049\"\r\n\t\t},\r\n\t\taxis: \"count\",\r\n\t},\r\n\t{\r\n\t\tid: \"currentAndTarget\",\r\n\t\ttitle: \"Current and Target Position\",\r\n\t\tfilterValue: 14,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#7c1158\",\r\n\t\t\tdark: \"#0bb4ff\"\r\n\t\t},\r\n\t\taxis: \"steps\",\r\n\t\thideSelect: true,\r\n\t},\r\n\t{\r\n\t\tid: \"currentMotorSteps\",\r\n\t\ttitle: \"Measured Motor Steps\",\r\n\t\tfilterValue: 2,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#7c1158\",\r\n\t\t\tdark: \"#0bb4ff\"\r\n\t\t},\r\n\t\taxis: \"steps\",\r\n\t\thideRecord: true,\r\n\t},\r\n\r\n\t{\r\n\t\tid: \"targetMotorSteps\",\r\n\t\ttitle: \"Target Motor Steps\",\r\n\t\tfilterValue: 4,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#4421af\",\r\n\t\t\tdark: \"#50e991\"\r\n\t\t},\r\n\t\taxis: \"steps\",\r\n\t\thideRecord: true,\r\n\t},\r\n\t{\r\n\t\tid: \"currentError\",\r\n\t\ttitle: \"Current Error\",\r\n\t\tfilterValue: 8,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#1a53ff\",\r\n\t\t\tdark: \"#e6d800\"\r\n\t\t},\r\n\t\taxis: \"steps\",\r\n\t\thideRecord: true,\r\n\t},\r\n\t{\r\n\t\tid: \"pidControlSignal\",\r\n\t\ttitle: \"PID Control Signal\",\r\n\t\tfilterValue: 16,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#0d88e6\",\r\n\t\t\tdark: \"#9b19f5\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\r\n\t{\r\n\t\tid: \"pidPTerm\",\r\n\t\ttitle: \"PID P Term\",\r\n\t\tfilterValue: 32,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#00b7c7\",\r\n\t\t\tdark: \"#ffa300\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\r\n\t{\r\n\t\tid: \"pidITerm\",\r\n\t\ttitle: \"PID I Term\",\r\n\t\tfilterValue: 64,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#5ad45a\",\r\n\t\t\tdark: \"#dc0ab4\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\r\n\t{\r\n\t\tid: \"pidDTerm\",\r\n\t\ttitle: \"PID D Term\",\r\n\t\tfilterValue: 128,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#8be04e\",\r\n\t\t\tdark: \"#b3d4ff\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\r\n\t{\r\n\t\tid: \"pidVTerm\",\r\n\t\ttitle: \"PID V Term\",\r\n\t\tfilterValue: 1 << 13,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#ffa52a\",\r\n\t\t\tdark: \"#0549a7\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\r\n\t{\r\n\t\tid: \"pidATerm\",\r\n\t\ttitle: \"PID A Term\",\r\n\t\tfilterValue: 1 << 14,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#bf9004\",\r\n\t\t\tdark: \"#8938c9\"\r\n\t\t},\r\n\t\taxis: \"unitless\"\r\n\t},\t\r\n\t{\r\n\t\tid: \"stepPhase\",\r\n\t\ttitle: \"Measured Step Phase\",\r\n\t\tfilterValue: 256,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#ebdc78\",\r\n\t\t\tdark: \"#00bfa0\"\r\n\t\t},\r\n\t\tfilter: val => (val / 4095) * 360,\r\n\t\taxis: \"degrees\"\r\n\t},\r\n\t{\r\n\t\tid: \"desiredStepPhase\",\r\n\t\ttitle: \"Desired Step Phase\",\r\n\t\tfilterValue: 512,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#fd7f6f\",\r\n\t\t\tdark: \"#fd7f6f\"\r\n\t\t},\r\n\t\tfilter: val => (val / 4095) * 360,\r\n\t\taxis: \"degrees\"\r\n\t},\r\n\t{\r\n\t\tid: \"phaseShift\",\r\n\t\ttitle: \"Phase Shift\",\r\n\t\tfilterValue: 1024,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#7eb0d5\",\r\n\t\t\tdark: \"#7eb0d5\"\r\n\t\t},\r\n\t\tfilter: val => (val / 4095) * 360,\r\n\t\taxis: \"degrees\"\r\n\t},\r\n\t{\r\n\t\tid: \"motorCurrents\",\r\n\t\ttitle: \"Motor Currents\",\r\n\t\tfilterValue: 6144,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#b2e061\",\r\n\t\t\tdark: \"#b2e061\"\r\n\t\t},\r\n\t\taxis: \"unitless\",\r\n\t\thideSelect: true,\r\n\t},\r\n\t{\r\n\t\tid: \"coilACurrent\",\r\n\t\ttitle: \"Coil A Current\",\r\n\t\tfilterValue: 2048,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#b2e061\",\r\n\t\t\tdark: \"#b2e061\"\r\n\t\t},\r\n\t\taxis: \"unitless\",\r\n\t\thideRecord: true,\r\n\t},\r\n\t{\r\n\t\tid: \"coilBCurrent\",\r\n\t\ttitle: \"Coil B Current\",\r\n\t\tfilterValue: 4096,\r\n\t\tcolour: {\r\n\t\t\tlight: \"#bd7ebe\",\r\n\t\t\tdark: \"#bd7ebe\"\r\n\t\t},\r\n\t\taxis: \"unitless\",\r\n\t\thideRecord: true,\r\n\t}\r\n];\r\n\r\nexport let tuningManoeuvres = [\r\n\t{\r\n\t\tname: \"Basic Tuning\",\r\n\t\tvalue: 1,\r\n\t\tdisabled: true\r\n\t},\r\n\t{\r\n\t\tname: \"Encoder Calibration\",\r\n\t\tvalue: 2,\r\n\t\tdisabled: true\r\n\t},\r\n\t{\r\n\t\tname: \"Step Manoeuvre\",\r\n\t\tvalue: 64,\r\n\t\tdisabled: false,\r\n\t},\r\n]","'use strict'\r\n\r\nimport { registerRoute } from '@/routes'\r\n\r\nimport ClosedLoopTuning from './ClosedLoopTuning.vue'\r\n\r\n// Register a route via Settings -> Closed Loop\r\nregisterRoute(ClosedLoopTuning, {\r\n\tPlugins: {\r\n\t\tClosedLoopTuning: {\r\n\t\t\ticon: 'mdi-chart-bell-curve-cumulative',\r\n\t\t\tcaption: 'Closed Loop',\r\n\t\t\tpath: '/ClosedLoopTuning'\r\n\t\t}\r\n\t}\r\n});\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"d-flex flex-column flex-grow-1 fill-height\",attrs:{\"min-height\":\"40rem\"}},[_c('v-card-title',{staticClass:\"pt-2 pb-1\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"dense\":\"\"}},[_vm._v(\"mdi-chart-sankey\")]),_vm._v(\" Data Chart \")],1),_c('v-card-text',{staticClass:\"content flex-grow-1 px-2 py-0\"},[(!_vm.data)?_c('div',{staticClass:\"text-h4 text--disabled text-center pt-16\"},[_vm._v(\" Select a file to view \")]):(_vm.variables.length === 0)?_c('div',{staticClass:\"text-h4 text--disabled text-center pt-16\"},[_vm._v(\" Select some variables to plot\"),_c('br')]):_vm._e(),(_vm.data && _vm.variables.length > 0)?_c('div',{staticStyle:{\"height\":\"5%\"}},[_c('v-range-slider',{attrs:{\"hide-details\":\"\",\"max\":_vm.data.Sample.length,\"min\":\"0\"},model:{value:(_vm.rangeFilter),callback:function ($$v) {_vm.rangeFilter=$$v},expression:\"rangeFilter\"}})],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data && _vm.variables.length > 0),expression:\"data && variables.length > 0\"}],staticStyle:{\"height\":\"95%\"}},[_c('canvas',{ref:\"chart\"})])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('Recorder',{attrs:{\"recordingProgress\":-1},on:{\"recordingFinished\":_vm.recordingFinished}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"lg\":\"auto\",\"order\":\"1\",\"order-lg\":\"0\"}},[_c('FileSelector',{ref:\"selector\",on:{\"fileSelect\":function($event){return _vm.selected($event)}}})],1),_c('v-col',{staticClass:\"flex-grow-1\",class:{ 'pa-1': _vm.$vuetify.breakpoint.xs },attrs:{\"cols\":\"12\",\"lg\":\"auto\",\"order\":\"0\",\"order-lg\":\"0\"}},[_c('Chart',{staticClass:\"content flex-grow-1 px-2 py-0\",attrs:{\"data\":_vm.loadedData,\"variables\":_vm.variablesToView}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"lg\":\"auto\",\"order\":\"1\",\"order-lg\":\"0\"}},[_c('VariableSelector',{attrs:{\"available-variables\":_vm.availableVariables},model:{value:(_vm.variablesToView),callback:function ($$v) {_vm.variablesToView=$$v},expression:\"variablesToView\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"d-flex flex-column fill-height\"},[_c('v-card-title',{staticClass:\"pt-2 pb-1\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-file-table-box-multiple\")]),_vm._v(\" Data Files \"),_c('v-spacer'),_c('v-icon',{staticClass:\"ml-2\",on:{\"click\":_vm.refresh}},[_vm._v(\"mdi-refresh\")]),(!_vm.isDeleting)?_c('v-icon',{staticClass:\"ml-2\",on:{\"click\":function($event){_vm.deleteDialog = true}}},[_vm._v(\"mdi-delete\")]):_c('v-progress-circular',{staticClass:\"disable-transition ml-2\",attrs:{\"size\":\"24\",\"value\":_vm.deleteProgress}})],1),_c('v-card-text',{staticClass:\"pb-0\"},[_c('v-list',{attrs:{\"dense\":\"\",\"v-if\":!_vm.loading}},[(_vm.files.length > 200)?_c('div',{staticClass:\"w-full error--text text-center mb-3\"},[_vm._v(\" Warning: You have \"+_vm._s(this.files.length)+\" data files\"),_c('br'),_vm._v(\" You may wish to delete some to save space \")]):_vm._e(),_c('v-list-item-group',{attrs:{\"color\":\"primary\"},model:{value:(_vm.selectedIndex),callback:function ($$v) {_vm.selectedIndex=$$v},expression:\"selectedIndex\"}},_vm._l((_vm.displayedFiles),function(file,index){return _c('v-list-item',{key:file.name,attrs:{\"value\":index}},[_c('v-list-item-content',[_c('v-list-item-title',[_c('div',{staticClass:\"mt-1 float-left\"},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),_c('v-icon',{staticClass:\"ml-2 float-right\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile(file.name)}}},[_vm._v(\"mdi-delete\")])],1)],1)],1)}),1)],1),_c('v-dialog',{attrs:{\"value\":_vm.deleteDialog,\"width\":\"480\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Delete All Files \")]),_c('v-card-text',[_vm._v(\" Are you sure you want to delete all CSV files? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteAll()}}},[_vm._v(\"Delete\")]),_c('v-btn',{on:{\"click\":function($event){_vm.deleteDialog = false}}},[_vm._v(\"Cancel\")])],1)],1)],1)],1),_c('v-spacer'),_c('v-card-actions',[_c('v-pagination',{staticClass:\"mx-auto\",attrs:{\"length\":Math.ceil(_vm.files.length / _vm.maxFileDisplay),\"total-visible\":Math.ceil(_vm.files.length / _vm.maxFileDisplay) > 4 ? 5 : null},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"fill-height\"},[_c('v-card-title',{staticClass:\"pt-2 pb-1\"},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-record-rec\")]),_vm._v(\" Record \")],1),_c('v-card-text',[_c('v-row',[_vm._l(([0, 1, 2]),function(colNo){return _c('v-col',{key:colNo,attrs:{\"cols\":\"2\"}},_vm._l((_vm.nthThirdOfVariables(colNo)),function(variable){return _c('v-checkbox',{key:variable.id,attrs:{\"dense\":\"\",\"hide-details\":\"\",\"label\":variable.title,\"value\":variable,\"color\":_vm.darkTheme ? variable.colour.dark : variable.colour.light},model:{value:(_vm.selectedVariables),callback:function ($$v) {_vm.selectedVariables=$$v},expression:\"selectedVariables\"}})}),1)}),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{staticClass:\"pb-4\",attrs:{\"items\":_vm.drivers,\"hint\":\"Only one motor will be driven, axis should be re-homed after tuning\",\"item-text\":\"name\",\"item-value\":\"value\",\"label\":\"Select a driver\",\"single-line\":\"\",\"persistent-hint\":\"\"},model:{value:(_vm.selectedDriver),callback:function ($$v) {_vm.selectedDriver=$$v},expression:\"selectedDriver\"}}),_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updatePID.apply(null, arguments)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.updatePID.apply(null, arguments)}}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"P Value\",\"numeric\":\"\"},model:{value:(_vm.pTerm),callback:function ($$v) {_vm.pTerm=$$v},expression:\"pTerm\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"I Value\",\"numeric\":\"\"},model:{value:(_vm.iTerm),callback:function ($$v) {_vm.iTerm=$$v},expression:\"iTerm\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"D Value\",\"numeric\":\"\"},model:{value:(_vm.dTerm),callback:function ($$v) {_vm.dTerm=$$v},expression:\"dTerm\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"A Value\",\"numeric\":\"\"},model:{value:(_vm.aTerm),callback:function ($$v) {_vm.aTerm=$$v},expression:\"aTerm\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"V Value\",\"numeric\":\"\"},model:{value:(_vm.vTerm),callback:function ($$v) {_vm.vTerm=$$v},expression:\"vTerm\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"type\":\"submit\",\"loading\":_vm.updatingPIDValue}},[_vm._v(\"Update\")])],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Samples to collect\",\"rules\":[(v) => !!v || _vm.$t('dialog.inputRequired'), (v) => _vm.isNumber(parseFloat(v)) || _vm.$t('dialog.numberRequired')],\"required\":\"\",\"autofocus\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_vm._v(\" samples \")]},proxy:true}]),model:{value:(_vm.sampleCount),callback:function ($$v) {_vm.sampleCount=$$v},expression:\"sampleCount\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-radio-group',{model:{value:(_vm.sampleRateContinuous),callback:function ($$v) {_vm.sampleRateContinuous=$$v},expression:\"sampleRateContinuous\"}},[_c('v-radio',{attrs:{\"label\":\"As fast as possible\",\"value\":true,\"dense\":\"\",\"hide-details\":\"\"}}),_c('v-radio',{attrs:{\"value\":false,\"dense\":\"\",\"hide-details\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('v-text-field',{attrs:{\"label\":\"At a fixed rate\",\"rules\":[(v) => !!v || _vm.$t('dialog.inputRequired'), (v) => _vm.isNumber(parseFloat(v)) || _vm.$t('dialog.numberRequired')],\"required\":\"\",\"autofocus\":\"\",\"hint\":_vm.sampleRateContinuous ? '' : `(total ${_vm.totalTime} seconds)`,\"persistent-hint\":\"\"},model:{value:(_vm.sampleRate),callback:function ($$v) {_vm.sampleRate=$$v},expression:\"sampleRate\"}},[_c('template',{slot:\"append\"},[_vm._v(\" /second \")])],2)]},proxy:true}])})],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-radio-group',{staticClass:\"mt-0 pt-0\",attrs:{\"label\":\"Movement\"},model:{value:(_vm.calibrationMovement),callback:function ($$v) {_vm.calibrationMovement=$$v},expression:\"calibrationMovement\"}},[_c('v-radio',{attrs:{\"value\":64,\"label\":\"Step Manoeuvre\",\"dense\":\"\",\"hide-details\":\"\"}}),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.calibrationMovement === 64),expression:\"calibrationMovement === 64\"}],attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Step Manoeuvre Parameters \")]),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Speed\",\"persistent-hint\":\"\",\"rules\":[(v) => !!v || _vm.$t('dialog.inputRequired'), (v) => _vm.isNumber(parseFloat(v)) || _vm.$t('dialog.numberRequired')],\"required\":\"\",\"autofocus\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_vm._v(\" mm/s \")]},proxy:true}]),model:{value:(_vm.moveSpeed),callback:function ($$v) {_vm.moveSpeed=$$v},expression:\"moveSpeed\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Distance\",\"rules\":[(v) => !!v || _vm.$t('dialog.inputRequired'), (v) => _vm.isNumber(parseFloat(v)) || _vm.$t('dialog.numberRequired')],\"required\":\"\",\"autofocus\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_vm._v(\" mm \")]},proxy:true}]),model:{value:(_vm.moveDistance),callback:function ($$v) {_vm.moveDistance=$$v},expression:\"moveDistance\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Acceleration\",\"rules\":[(v) => !!v || _vm.$t('dialog.inputRequired'), (v) => _vm.isNumber(parseFloat(v)) || _vm.$t('dialog.numberRequired')],\"required\":\"\",\"autofocus\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_vm._v(\" mm/s^2 \")]},proxy:true}]),model:{value:(_vm.moveAcceleration),callback:function ($$v) {_vm.moveAcceleration=$$v},expression:\"moveAcceleration\"}})],1)],1),_c('v-radio',{attrs:{\"value\":0,\"hide-details\":\"\",\"label\":\"Custom G-Code\"}}),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.calibrationMovement === 0),expression:\"calibrationMovement === 0\"}],attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{staticClass:\"pt-1\",attrs:{\"label\":\"G-Code\",\"persistent-hint\":\"\",\"hint\":\"Enter custom g-code to record\"},model:{value:(_vm.customGCODE),callback:function ($$v) {_vm.customGCODE=$$v},expression:\"customGCODE\"}})],1)],1)],1),_c('v-select',{attrs:{\"items\":[\n                  { text: 'Immediately', value: 0 },\n                  { text: 'On next move', value: 1 }\n               ],\"label\":\"Collect data\"},model:{value:(_vm.activateMode),callback:function ($$v) {_vm.activateMode=$$v},expression:\"activateMode\"}})],1)],2),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.ready || _vm.autoTuning || _vm.recording,\"color\":\"info\"},on:{\"click\":function($event){return _vm.record()}}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-record\")]),_vm._v(\" Record \")],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"disabled\":_vm.selectedDriver == null || _vm.autoTuning,\"color\":\"info\"},on:{\"click\":function($event){return _vm.autoTune()}}},[_c('v-icon',[_vm._v(\"mdi-tune\")]),_c('span',{staticClass:\"ml-1\"},[_vm._v(\"Auto Tune\")])],1),(_vm.autoTuning)?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.cancelAutoTune()}}},[_c('v-icon',[_vm._v(\"mdi-tune\")]),_c('span',{staticClass:\"ml-1\"},[_vm._v(\"Cancel\")])],1):_vm._e(),_c('div',{staticClass:\"mt-1\"},[_vm._v(_vm._s(_vm.autoTuneText))])],1),_c('v-col',{attrs:{\"cols\":\"10\"}},[(_vm.ready)?_c('div',{staticClass:\"font-weight-black info--text\",class:{ 'pt-2': !_vm.error && !_vm.warning && _vm.recordingProgress == null && _vm.calibrationMovement != 0 }},[_vm._v(_vm._s(_vm.GCODECommand))]):_vm._e(),(_vm.ready && _vm.calibrationMovement == 0)?_c('div',{staticClass:\"font-weight-black info--text\"},[_vm._v(_vm._s(_vm.customGCODE))]):_vm._e(),(_vm.error)?_c('div',{staticClass:\"font-weight-black error--text\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(_vm.warning)?_c('div',{staticClass:\"font-weight-black warning--text\"},[_vm._v(_vm._s(_vm.warning))]):_vm._e(),(_vm.recordingProgress != null)?_c('v-progress-linear',{staticClass:\"mb-4\",attrs:{\"indeterminate\":_vm.recordingProgress == -1,\"value\":_vm.recordingProgress == -1 ? 0 : _vm.recordingProgress}}):_vm._e()],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"480\"},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\" Confirm \")])]),_c('v-card-text',[_vm._v(\" You have chosen to perform a tuning manoeuvre which will move the axis a small distance. \"),_c('div',{staticClass:\"text-center py-2 font-weight-black error--text\"},[_vm._v(\"This movement may not respect endstops.\")]),_vm._v(\" Please ensure the axis is in a safe position (usually the center) before proceeding. \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"error darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.dialogResult(false)}}},[_vm._v(\" \"+_vm._s(_vm.$t('generic.cancel'))+\" \")]),_c('v-spacer'),_c('v-checkbox',{staticClass:\"pr-2\",scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticStyle:{\"font-size\":\"0.7em\"}},[_vm._v(\"Don't show this again\")])]},proxy:true}]),model:{value:(_vm.dontShowModal),callback:function ($$v) {_vm.dontShowModal=$$v},expression:\"dontShowModal\"}}),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.dialogResult(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t('generic.ok'))+\" \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"d-flex flex-column fill-height\"},[_c('v-card-title',{staticClass:\"pt-2 pb-1\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-function-variant\")]),_vm._v(\" Variables \")],1),_c('v-card-text',{staticClass:\"content flex-grow-1 px-2 py-0 pr-4\"},_vm._l((_vm.chartableVariables),function(variable){return _c('v-checkbox',{key:variable.id,attrs:{\"dense\":\"\",\"hide-details\":\"\",\"label\":variable.title,\"value\":variable,\"disabled\":!_vm.availableVariables.includes(variable.title),\"color\":_vm.darkTheme ?  variable.colour.dark : variable.colour.light},model:{value:(_vm.selectedVariables),callback:function ($$v) {_vm.selectedVariables=$$v},expression:\"selectedVariables\"}})}),1),_c('v-spacer'),_c('v-card-actions',{staticClass:\"d-flex\"},[_c('v-btn',{attrs:{\"color\":\"darken-1\"},on:{\"click\":_vm.selectAll}},[_vm._v(\"All\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"darken-1\"},on:{\"click\":function($event){_vm.selectedVariables=[]}}},[_vm._v(\"None\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["component","render","staticRenderFns","CSV","constructor","content","_defineProperty","row","col","inQuote","i","length","char","nextChar","this","headers","push","splice","get","fieldName","index","findIndex","header","data","chart","rangeFilter","props","Object","variables","Array","computed","mapState","methods","createChart","Chart","chartElements","coordinates","$refs","options","animation","duration","tooltips","mode","position","intersect","maintainAspectRatio","scales","xAxes","type","scaleLabel","display","labelString","datasets","updateChart","map","variable","borderColor","darkTheme","colour","dark","light","borderWidth","title","val","idx","x","Timestamp","y","filter","slice","fill","label","pointRadius","showLine","tension","yAxisID","axis","axesRequired","yAxes","yAxis","includes","id","update","mounted","watch","Sample","components","Recorder","FileSelector","VariableSelector","loadedData","variablesToView","variablesToRecord","availableVariables","mapGetters","mapActions","parseClosedLoopCSV","inputText","split","forEach","keys","parseFloat","file","download","filename","showProgress","showSuccess","showError","recordingFinished","selector","selectMostRecentFile","page","files","loading","selectedIndex","maxFileDisplay","deleteDialog","isDeleting","deleteProgress","displayedFiles","refresh","$root","$on","unmounted","$off","getFileList","machineDelete","isConnected","Path","isDirectory","name","endsWith","sort","a","b","lastModified","fileName","e","$makeNotification","$t","message","to","$emit","error","warning","sampleRate","activateMode","tuningManoeuvres","sampleCount","customGCODE","showDialog","selectedDriver","dontShowModal","selectedVariables","calibrationMovement","recordingProgress","sampleRateContinuous","pTerm","iTerm","dTerm","aTerm","vTerm","updatingPIDValue","autoTuning","autoTuner","recording","autoTuneText","axisParams","moveSpeed","moveDistance","moveAcceleration","nthThirdOfVariables","n","filteredVariables","v","hideRecord","thirdLength","Math","ceil","dialogResult","res","record","force","originalAcceleration","acceleration","sendCode","code","letter","log","console","stepCommand","gcodeToSend","GCODECommand","reply","fromInput","startsWith","setTimeout","checkTerm","term","PIDTune","updateGraph","updateAutotuneText","execute","ex","cancelAutoTune","cancel","p","d","text","boards","state","axes","move","drivers","results","driver","some","board","canAddress","parseInt","closedLoop","value","closedLoopPoints","find","points","closedLoopRuns","runs","totalTime","round","pString","sString","aString","rString","dString","reduce","acc","filterValue","ready","queryResults","match","substring","selectedAxis","AxisParameters","speed","stepsPerMm","microstepping","chartableVariables","hideSelect","selectAll","mixins","Colorable","Intersectable","onVisible","Themeable","extend","directives","Resize","circle","Boolean","disabled","Number","default","validator","nextIcon","String","prevIcon","totalVisible","pageAriaLabel","currentPageAriaLabel","previousAriaLabel","nextAriaLabel","wrapperAriaLabel","maxButtons","selected","classes","themeClasses","items","isNaN","MAX_SAFE_INTEGER","maxLength","min","max","range","even","left","floor","right","firstItem","lastItem","start","end","secondItem","beforeLastItem","init","beforeMount","onResize","$nextTick","width","$el","parentElement","clientWidth","window","innerWidth","next","preventDefault","previous","from","genIcon","h","icon","fn","staticClass","class","attrs","on","click","VIcon","genItem","color","isCurrentPage","ariaLabel","setBackgroundColor","$vuetify","lang","t","toString","genItems","key","genList","children","modifiers","quiet","rtl","role","baseMixins","BindsAttrs","Rippleable","GroupableFactory","inheritAttrs","offIcon","onIcon","readonly","isFocused","isDisabled","groupClasses","computedColor","Selectable","computedIcon","isActive","computedId","VInput","hasLabel","hasState","radioGroup","isReadonly","computedName","_uid","rippleState","validationState","genInput","args","genLabel","$createElement","VLabel","prevent","for","focused","getSlot","genRadio","radioAttrs","attrs$","setTextColor","dense","genRipple","onFocus","onBlur","onChange","toggle","onKeydown","mergeListeners","listeners$","BaseItemGroup","provide","column","height","genDefaultSlot","genInputSlot","tag","onClick","vnode","_b","VSlider","activeThumb","lazyValue","internalValue","set","roundValue","minValue","maxValue","toFocus","el","focus","deepEqual","validate","inputWidth","getTrackStyle","startLength","endLength","startPadding","endPadding","startDir","vertical","endDir","transition","trackTransition","getIndexOfClosestValue","arr","abs","createRange","input","genTrackContainer","padding","sections","computedTrackColor","styles","computedTrackFillColor","reverse","section","style","ref","genChildren","genSteps","valueWidth","genThumbContainer","reevaluateSelected","refName","thumbRef","onSliderMouseDown","parseMouseMove","oldValue","_a","target","matches","thumbPressed","domRect","getBoundingClientRect","touch","touches","startOffset","clientY","top","clientX","clearTimeout","mouseTimeout","mouseUpOptions","passiveSupported","passive","capture","mouseMoveOptions","isTouchEvent","onMouseMove","app","addEventListener","addOnceEventListener","onSliderMouseUp","onSliderClick","noClick","setInternalValue","onKeyDown","parseKeyDown","maxPTerm","maxPTime","maxDTerm","maxITerm","maxSpeed","stepsPerMM","downloadFile","updateGraphCallback","updateAutotuneTextCallback","warningValue","errorValue","updateAutotuneStatusCallback","cancelled","lastFile","async","exec","sleep","ms","Promise","resolve","solved","count","updatePID","runStepManouver","processedData","processData","periods","avg","under","period","over","currentTarget","peakTime","repeat","updateStatus","measurement","peaks","time","overshoots","peak","step","stepTarget","toPrecision","stableTime","currentTerm","unstableTimes","currentTime","trunc","csv","valleys","currentError","measuredIndex","targetIndex","rising","initialOffset","current","timeStamp","averagePeriod","fetchCSV","csvText","csvData","indexOf","iTermTest","generateFourFullStepsGCode","Error","success","getPID","findP","findD","findI","resetErrorThreshold","getFullStep","gcode","registerRoute","ClosedLoopTuning","Plugins","caption","path","_vm","_v","_e","staticStyle","_c","model","callback","rawName","expression","$event","stopPropagation","scopedSlots","proxy","slot","$$v","autoTune","_s","_l"],"sourceRoot":""}